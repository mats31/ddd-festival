{"version":3,"file":"sono.js","sources":["../node_modules/core-js/modules/_global.js","../node_modules/core-js/modules/_core.js","../node_modules/core-js/modules/_is-object.js","../node_modules/core-js/modules/_an-object.js","../node_modules/core-js/modules/_fails.js","../node_modules/core-js/modules/_descriptors.js","../node_modules/core-js/modules/_dom-create.js","../node_modules/core-js/modules/_ie8-dom-define.js","../node_modules/core-js/modules/_to-primitive.js","../node_modules/core-js/modules/_object-dp.js","../node_modules/core-js/modules/_property-desc.js","../node_modules/core-js/modules/_hide.js","../node_modules/core-js/modules/_has.js","../node_modules/core-js/modules/_uid.js","../node_modules/core-js/modules/_redefine.js","../node_modules/core-js/modules/_a-function.js","../node_modules/core-js/modules/_ctx.js","../node_modules/core-js/modules/_export.js","../node_modules/core-js/modules/_cof.js","../node_modules/core-js/modules/_iobject.js","../node_modules/core-js/modules/_defined.js","../node_modules/core-js/modules/_to-iobject.js","../node_modules/core-js/modules/_to-integer.js","../node_modules/core-js/modules/_to-length.js","../node_modules/core-js/modules/_to-index.js","../node_modules/core-js/modules/_array-includes.js","../node_modules/core-js/modules/_shared.js","../node_modules/core-js/modules/_shared-key.js","../node_modules/core-js/modules/_object-keys-internal.js","../node_modules/core-js/modules/_enum-bug-keys.js","../node_modules/core-js/modules/_object-keys.js","../node_modules/core-js/modules/_object-gops.js","../node_modules/core-js/modules/_object-pie.js","../node_modules/core-js/modules/_to-object.js","../node_modules/core-js/modules/_object-assign.js","../node_modules/core-js/modules/es6.object.assign.js","../src/core/utils/dummy.js","../src/core/utils/fake-context.js","../src/core/utils/iOS.js","../src/core/context.js","../src/core/effects.js","../src/core/utils/file.js","../src/core/group.js","../node_modules/events/events.js","../src/core/utils/emitter.js","../src/core/utils/loader.js","../src/core/utils/log.js","../src/core/utils/pageVisibility.js","../src/core/source/buffer-source.js","../src/core/utils/utils.js","../src/core/utils/isSafeNumber.js","../src/core/source/audio-source.js","../src/core/source/media-source.js","../src/core/source/microphone-source.js","../src/core/source/oscillator-source.js","../src/core/sound.js","../src/core/utils/sound-group.js","../src/core/utils/touchLock.js","../src/core/sono.js","../src/effects/AbstractEffect.js","../src/effects/analyser.js","../src/effects/compressor.js","../src/effects/convolver.js","../src/effects/distortion.js","../src/effects/echo.js","../src/effects/filter.js","../src/effects/flanger.js","../src/core/utils/isDefined.js","../src/effects/panner.js","../src/effects/phaser.js","../src/effects/reverb.js","../src/utils/microphone.js","../src/utils/recorder.js","../src/utils/waveform.js","../src/utils/waveformer.js"],"sourcesContent":["// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};","var global    = require('./_global')\n  , hide      = require('./_hide')\n  , has       = require('./_has')\n  , SRC       = require('./_uid')('src')\n  , TO_STRING = 'toString'\n  , $toString = Function[TO_STRING]\n  , TPL       = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function(it){\n  return $toString.call(it);\n};\n\n(module.exports = function(O, key, val, safe){\n  var isFunction = typeof val == 'function';\n  if(isFunction)has(val, 'name') || hide(val, 'name', key);\n  if(O[key] === val)return;\n  if(isFunction)has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if(O === global){\n    O[key] = val;\n  } else {\n    if(!safe){\n      delete O[key];\n      hide(O, key, val);\n    } else {\n      if(O[key])O[key] = val;\n      else hide(O, key, val);\n    }\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString(){\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};","var global    = require('./_global')\n  , core      = require('./_core')\n  , hide      = require('./_hide')\n  , redefine  = require('./_redefine')\n  , ctx       = require('./_ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE]\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE] || (exports[PROTOTYPE] = {})\n    , key, own, out, exp;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if(target)redefine(target, key, out, type & $export.U);\n    // export\n    if(exports[key] != out)hide(exports, key, exp);\n    if(IS_PROTO && expProto[key] != out)expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};","exports.f = Object.getOwnPropertySymbols;","exports.f = {}.propertyIsEnumerable;","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});","export default function dummy(context) {\n    const buffer = context.createBuffer(1, 1, context.sampleRate);\n    const source = context.createBufferSource();\n    source.buffer = buffer;\n    source.connect(context.destination);\n    source.start(0);\n    source.stop(0);\n    source.disconnect();\n}\n","export default function FakeContext() {\n\n    const startTime = Date.now();\n\n    function fn() {}\n\n    function param() {\n        return {\n            value: 1,\n            defaultValue: 1,\n            linearRampToValueAtTime: fn,\n            setValueAtTime: fn,\n            exponentialRampToValueAtTime: fn,\n            setTargetAtTime: fn,\n            setValueCurveAtTime: fn,\n            cancelScheduledValues: fn\n        };\n    }\n\n    function fakeNode() {\n        return {\n            connect: fn,\n            disconnect: fn,\n            // analyser\n            frequencyBinCount: 0,\n            smoothingTimeConstant: 0,\n            fftSize: 0,\n            minDecibels: 0,\n            maxDecibels: 0,\n            getByteTimeDomainData: fn,\n            getByteFrequencyData: fn,\n            getFloatTimeDomainData: fn,\n            getFloatFrequencyData: fn,\n            // gain\n            gain: param(),\n            // panner\n            panningModel: 0,\n            setPosition: fn,\n            setOrientation: fn,\n            setVelocity: fn,\n            distanceModel: 0,\n            refDistance: 0,\n            maxDistance: 0,\n            rolloffFactor: 0,\n            coneInnerAngle: 360,\n            coneOuterAngle: 360,\n            coneOuterGain: 0,\n            // filter:\n            type: 0,\n            frequency: param(),\n            Q: param(),\n            detune: param(),\n            // delay\n            delayTime: param(),\n            // convolver\n            buffer: 0,\n            // compressor\n            threshold: param(),\n            knee: param(),\n            ratio: param(),\n            attack: param(),\n            release: param(),\n            reduction: param(),\n            // distortion\n            oversample: 0,\n            curve: 0,\n            // buffer\n            sampleRate: 1,\n            length: 0,\n            duration: 0,\n            numberOfChannels: 0,\n            getChannelData: function() {\n                return [];\n            },\n            copyFromChannel: fn,\n            copyToChannel: fn,\n            // listener\n            dopplerFactor: 0,\n            speedOfSound: 0,\n            // osc\n            start: fn\n        };\n    }\n\n    // ie9\n    if (!window.Uint8Array) {\n        window.Uint8Array = window.Float32Array = Array;\n    }\n\n    return {\n        isFake: true,\n        activeSourceCount: 0,\n        createAnalyser: fakeNode,\n        createBuffer: fakeNode,\n        createBufferSource: fakeNode,\n        createMediaElementSource: fakeNode,\n        createMediaStreamSource: fakeNode,\n        createBiquadFilter: fakeNode,\n        createChannelMerger: fakeNode,\n        createChannelSplitter: fakeNode,\n        createDynamicsCompressor: fakeNode,\n        createConvolver: fakeNode,\n        createDelay: fakeNode,\n        createGain: fakeNode,\n        createOscillator: fakeNode,\n        createPanner: fakeNode,\n        createScriptProcessor: fakeNode,\n        createWaveShaper: fakeNode,\n        decodeAudioData: fn,\n        destination: fakeNode,\n        listener: fakeNode(),\n        sampleRate: 44100,\n        state: '',\n        get currentTime() {\n            return (Date.now() - startTime) / 1000;\n        }\n    };\n}\n","export default navigator && /(iPhone|iPad|iPod)/i.test(navigator.userAgent);\n","import dummy from './utils/dummy';\nimport FakeContext from './utils/fake-context';\nimport iOS from './utils/iOS';\n\nconst desiredSampleRate = 44100;\n\nconst Ctx = window.AudioContext || window.webkitAudioContext || FakeContext;\n\nlet context = new Ctx();\n\nif (!context) {\n    context = new FakeContext();\n}\n\n// Check if hack is necessary. Only occurs in iOS6+ devices\n// and only when you first boot the iPhone, or play a audio/video\n// with a different sample rate\n// https://github.com/Jam3/ios-safe-audio-context/blob/master/index.js\nif (iOS && context.sampleRate !== desiredSampleRate) {\n    dummy(context);\n    context.close(); // dispose old context\n    context = new Ctx();\n}\n\n// Handles bug in Safari 9 OSX where AudioContext instance starts in 'suspended' state\nif (context.state === 'suspended' && typeof context.resume === 'function') {\n    window.setTimeout(() => context.resume(), 1000);\n}\n\nexport default context;\n","export default class Effects {\n    constructor(context) {\n        this.context = context;\n        this._destination = null;\n        this._source = null;\n\n        this._nodes = [];\n        this._nodes.has = node => this.has(node);\n        this._nodes.add = node => this.add(node);\n        this._nodes.remove = node => this.remove(node);\n        this._nodes.toggle = (node, force) => this.toggle(node, force);\n        this._nodes.removeAll = () => this.removeAll();\n\n        Object.keys(Effects.prototype).forEach(key => {\n            if (!this._nodes.hasOwnProperty(key) && typeof Effects.prototype[key] === 'function') {\n                this._nodes[key] = this[key].bind(this);\n            }\n        });\n    }\n\n    setSource(node) {\n        this._source = node;\n        this._updateConnections();\n        return node;\n    }\n\n    setDestination(node) {\n        this._connectToDestination(node);\n        return node;\n    }\n\n    has(node) {\n        if (!node) {\n            return false;\n        }\n        return this._nodes.indexOf(node) > -1;\n    }\n\n    add(node) {\n        if (!node) {\n            return null;\n        }\n        if (this.has(node)) {\n            return node;\n        }\n        if (Array.isArray(node)) {\n            let n;\n            for (let i = 0; i < node.length; i++) {\n                n = this.add(node[i]);\n            }\n            return n;\n        }\n        this._nodes.push(node);\n        this._updateConnections();\n        return node;\n    }\n\n    remove(node) {\n        if (!node) {\n            return null;\n        }\n        if (!this.has(node)) {\n            return node;\n        }\n        const l = this._nodes.length;\n        for (let i = 0; i < l; i++) {\n            if (node === this._nodes[i]) {\n                this._nodes.splice(i, 1);\n                break;\n            }\n        }\n        node.disconnect();\n        this._updateConnections();\n        return node;\n    }\n\n    toggle(node, force) {\n        force = !!force;\n        const hasNode = this.has(node);\n        if (arguments.length > 1 && hasNode === force) {\n            return this;\n        }\n        if (hasNode) {\n            this.remove(node);\n        } else {\n            this.add(node);\n        }\n        return this;\n    }\n\n    removeAll() {\n        while (this._nodes.length) {\n            const node = this._nodes.pop();\n            node.disconnect();\n        }\n        this._updateConnections();\n        return this;\n    }\n\n    destroy() {\n        this.removeAll();\n        this.context = null;\n        this._destination = null;\n        if (this._source) {\n            this._source.disconnect();\n        }\n        this._source = null;\n    }\n\n    _connect(a, b) {\n        a.disconnect();\n        // console.log('> connect output', (a.name || a.constructor.name), 'to input', (b.name || b.constructor.name));\n        a.connect(b._in || b);\n    }\n\n    _connectToDestination(node) {\n        const lastNode = this._nodes[this._nodes.length - 1] || this._source;\n\n        if (lastNode) {\n            this._connect(lastNode, node);\n        }\n\n        this._destination = node;\n    }\n\n    _updateConnections() {\n        if (!this._source) {\n            return;\n        }\n\n        // console.log('updateConnections');\n\n        let node,\n            prev;\n\n        for (let i = 0; i < this._nodes.length; i++) {\n            node = this._nodes[i];\n            prev = i === 0 ? this._source : this._nodes[i - 1];\n            this._connect(prev, node);\n        }\n\n        if (this._destination) {\n            this._connectToDestination(this._destination);\n        }\n    }\n}\n","const extensions = [];\nconst canPlay = {};\n\n/*\n * Initial tests\n */\n\nconst tests = [{\n    ext: 'ogg',\n    type: 'audio/ogg; codecs=\"vorbis\"'\n}, {\n    ext: 'mp3',\n    type: 'audio/mpeg;'\n}, {\n    ext: 'opus',\n    type: 'audio/ogg; codecs=\"opus\"'\n}, {\n    ext: 'wav',\n    type: 'audio/wav; codecs=\"1\"'\n}, {\n    ext: 'm4a',\n    type: 'audio/x-m4a;'\n}, {\n    ext: 'm4a',\n    type: 'audio/aac;'\n}];\n\nlet el = document.createElement('audio');\nif (el) {\n    tests.forEach(function(test) {\n        const canPlayType = !!el.canPlayType(test.type);\n        if (canPlayType && extensions.indexOf(test.ext) === -1) {\n            extensions.push(test.ext);\n        }\n        canPlay[test.ext] = canPlayType;\n    });\n    el = null;\n}\n\n/*\n * find a supported file\n */\n\nfunction getFileExtension(url) {\n    if (typeof url !== 'string') {\n        return '';\n    }\n    // from DataURL\n    if (url.slice(0, 5) === 'data:') {\n        const match = url.match(/data:audio\\/(ogg|mp3|opus|wav|m4a)/i);\n        if (match && match.length > 1) {\n            return match[1].toLowerCase();\n        }\n    }\n    // from Standard URL\n    url = url.split('?')[0];\n    url = url.slice(url.lastIndexOf('/') + 1);\n\n    const a = url.split('.');\n    if (a.length === 1 || (a[0] === '' && a.length === 2)) {\n        return '';\n    }\n    return a.pop()\n        .toLowerCase();\n}\n\nfunction getSupportedFile(fileNames) {\n    let name;\n\n    if (Array.isArray(fileNames)) {\n        // if array get the first one that works\n        for (let i = 0; i < fileNames.length; i++) {\n            name = fileNames[i];\n            const ext = getFileExtension(name);\n            if (extensions.indexOf(ext) > -1) {\n                break;\n            }\n        }\n    } else if (typeof fileNames === 'object') {\n        // if not array and is object\n        Object.keys(fileNames)\n            .some(function(key) {\n                name = fileNames[key];\n                const ext = getFileExtension(name);\n                return extensions.indexOf(ext) > -1;\n            });\n    }\n    // if string just return\n    return name || fileNames;\n}\n\n/*\n * infer file types\n */\n\nfunction isAudioBuffer(data) {\n    return !!(data &&\n        window.AudioBuffer &&\n        data instanceof window.AudioBuffer);\n}\n\nfunction isArrayBuffer(data) {\n    return !!(data &&\n        window.ArrayBuffer &&\n        data instanceof window.ArrayBuffer);\n}\n\nfunction isMediaElement(data) {\n    return !!(data &&\n        window.HTMLMediaElement &&\n        data instanceof window.HTMLMediaElement);\n}\n\nfunction isMediaStream(data) {\n    return !!(data &&\n        typeof data.getAudioTracks === 'function' &&\n        data.getAudioTracks()\n        .length &&\n        window.MediaStreamTrack &&\n        data.getAudioTracks()[0] instanceof window.MediaStreamTrack);\n}\n\nfunction isOscillatorType(data) {\n    return !!(data && typeof data === 'string' &&\n        (data === 'sine' || data === 'square' ||\n            data === 'sawtooth' || data === 'triangle'));\n}\n\nfunction isURL(data) {\n    return !!(data && typeof data === 'string' &&\n        (data.indexOf('.') > -1 || data.slice(0, 5) === 'data:'));\n}\n\nfunction containsURL(config) {\n    if (!config || isMediaElement(config)) {\n        return false;\n    }\n    // string, array or object with src/url/data property that is string, array or arraybuffer\n    const src = getSrc(config);\n    return isURL(src) || isArrayBuffer(src) || (Array.isArray(src) && isURL(src[0]));\n}\n\nfunction getSrc(config) {\n    return config.src || config.url || config.data || config;\n}\n\nexport default {\n    canPlay,\n    containsURL,\n    extensions,\n    getFileExtension,\n    getSrc,\n    getSupportedFile,\n    isAudioBuffer,\n    isArrayBuffer,\n    isMediaElement,\n    isMediaStream,\n    isOscillatorType,\n    isURL\n};\n","import Effects from './effects';\n\nexport default function Group(context, destination) {\n    const sounds = [];\n    const effects = new Effects(context);\n    const gain = context.createGain();\n    let preMuteVolume = 1;\n    let group = null;\n\n    if (context) {\n        effects.setSource(gain);\n        effects.setDestination(destination || context.destination);\n    }\n\n    /*\n     * Add / remove\n     */\n\n    function find(soundOrId, callback) {\n        let found;\n\n        if (!soundOrId && soundOrId !== 0) {\n            return found;\n        }\n\n        sounds.some(function(sound) {\n            if (sound === soundOrId || sound.id === soundOrId) {\n                found = sound;\n                return true;\n            }\n            return false;\n        });\n\n        if (found && callback) {\n            return callback(found);\n        }\n\n        return found;\n    }\n\n    function remove(soundOrId) {\n        find(soundOrId, (sound) => sounds.splice(sounds.indexOf(sound), 1));\n        return group;\n    }\n\n    function add(sound) {\n        sound.gain.disconnect();\n        sound.gain.connect(gain);\n\n        sounds.push(sound);\n\n        sound.once('destroy', remove);\n\n        return group;\n    }\n\n    /*\n     * Controls\n     */\n\n    function play(delay, offset) {\n        sounds.forEach((sound) => sound.play(delay, offset));\n        return group;\n    }\n\n    function pause() {\n        sounds.forEach((sound) => {\n            if (sound.playing) {\n                sound.pause();\n            }\n        });\n        return group;\n    }\n\n    function resume() {\n        sounds.forEach((sound) => {\n            if (sound.paused) {\n                sound.play();\n            }\n        });\n        return group;\n    }\n\n    function stop() {\n        sounds.forEach((sound) => sound.stop());\n        return group;\n    }\n\n    function seek(percent) {\n        sounds.forEach((sound) => sound.seek(percent));\n        return group;\n    }\n\n    function mute() {\n        preMuteVolume = group.volume;\n        group.volume = 0;\n        return group;\n    }\n\n    function unMute() {\n        group.volume = preMuteVolume || 1;\n        return group;\n    }\n\n    function setVolume(value) {\n        group.volume = value;\n        return group;\n    }\n\n    function fade(volume, duration) {\n        if (context) {\n            const param = gain.gain;\n            const time = context.currentTime;\n\n            param.cancelScheduledValues(time);\n            param.setValueAtTime(param.value, time);\n            // param.setValueAtTime(volume, time + duration);\n            param.linearRampToValueAtTime(volume, time + duration);\n            // param.setTargetAtTime(volume, time, duration);\n            // param.exponentialRampToValueAtTime(Math.max(volume, 0.0001), time + duration);\n        } else {\n            sounds.forEach((sound) => sound.fade(volume, duration));\n        }\n\n        return group;\n    }\n\n    /*\n     * Load\n     */\n\n    function load() {\n        sounds.forEach((sound) => sound.load());\n    }\n\n    /*\n     * Unload\n     */\n\n    function unload() {\n        sounds.forEach((sound) => sound.unload());\n    }\n\n    /*\n     * Destroy\n     */\n\n    function destroy() {\n        while (sounds.length) {\n            sounds.pop()\n                .destroy();\n        }\n    }\n\n    /*\n     * Api\n     */\n\n    group = {\n        add,\n        find,\n        remove,\n        play,\n        pause,\n        resume,\n        stop,\n        seek,\n        setVolume,\n        mute,\n        unMute,\n        fade,\n        load,\n        unload,\n        destroy,\n        gain,\n        get effects() {\n            return effects._nodes;\n        },\n        set effects(value) {\n            effects.removeAll().add(value);\n        },\n        get fx() {\n            return this.effects;\n        },\n        set fx(value) {\n            this.effects = value;\n        },\n        get sounds() {\n            return sounds;\n        },\n        get volume() {\n            return gain.gain.value;\n        },\n        set volume(value) {\n            if (isNaN(value)) {\n                return;\n            }\n\n            value = Math.min(Math.max(value, 0), 1);\n\n            if (context) {\n                gain.gain.cancelScheduledValues(context.currentTime);\n                gain.gain.value = value;\n                gain.gain.setValueAtTime(value, context.currentTime);\n            } else {\n                gain.gain.value = value;\n            }\n            sounds.forEach((sound) => {\n                if (!sound.context) {\n                    sound.groupVolume = value;\n                }\n            });\n        }\n    };\n\n    return group;\n}\n\nGroup.Effects = Effects;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","import events from 'events';\nconst {EventEmitter} = events;\n\nexport default class Emitter extends EventEmitter {\n    constructor() {\n        super();\n    }\n\n    off (type, listener) {\n        if (listener) {\n            return this.removeListener(type, listener);\n        }\n        if (type) {\n            return this.removeAllListeners(type);\n        }\n        return this.removeAllListeners();\n    }\n}\n","import Emitter from './emitter';\n\nexport default function Loader(url, deferLoad) {\n    const ERROR_STATE = ['', 'ABORTED', 'NETWORK', 'DECODE', 'SRC_NOT_SUPPORTED'];\n    const emitter = new Emitter();\n    let progress = 0,\n        audioContext,\n        isTouchLocked,\n        request,\n        timeout,\n        data;\n\n    // clean up\n\n    function removeListeners() {\n        emitter.off('error');\n        emitter.off('progress');\n        emitter.off('complete');\n        emitter.off('loaded');\n\n        if (data && typeof data.removeEventListener === 'function') {\n            data.removeEventListener('canplaythrough', readyHandler);\n            data.removeEventListener('error', errorHandler);\n        }\n\n        if (request) {\n            request.removeEventListener('progress', progressHandler);\n            request.removeEventListener('load', loadHandler);\n            request.removeEventListener('error', errorHandler);\n        }\n    }\n\n    function dispatchComplete(buffer) {\n        emitter.emit('progress', 1);\n        emitter.emit('loaded', buffer);\n        emitter.emit('complete', buffer);\n\n        removeListeners();\n    }\n\n    function progressHandler(event) {\n        if (event.lengthComputable) {\n            progress = event.loaded / event.total;\n            emitter.emit('progress', progress);\n        }\n    }\n\n    // error\n\n    function errorHandler(event) {\n        window.clearTimeout(timeout);\n\n        let message = event;\n\n        if (data && data.error) {\n            message = 'Media Error: ' + ERROR_STATE[data.error.code] + ' ' + url;\n        }\n\n        if (request) {\n            message = 'XHR Error: ' + request.status + ' ' + request.statusText + ' ' + url;\n        }\n\n        emitter.emit('error', message);\n\n        removeListeners();\n    }\n\n    function decodeArrayBuffer(arraybuffer) {\n        audioContext.decodeAudioData(arraybuffer, (buffer) => {\n            data = buffer;\n            request = null;\n            progress = 1;\n            dispatchComplete(buffer);\n        },\n        errorHandler\n        );\n    }\n\n    function loadHandler() {\n        decodeArrayBuffer(request.response);\n    }\n\n    function readyHandler() {\n        window.clearTimeout(timeout);\n        if (!data) {\n            return;\n        }\n        progress = 1;\n        dispatchComplete(data);\n    }\n\n    function cancel() {\n        removeListeners();\n\n        if (request && request.readyState !== 4) {\n            request.abort();\n        }\n        request = null;\n\n        window.clearTimeout(timeout);\n    }\n\n    function destroy() {\n        cancel();\n        request = null;\n        data = null;\n        audioContext = null;\n    }\n\n    // audio buffer\n\n    function loadArrayBuffer() {\n        if (url instanceof window.ArrayBuffer) {\n            decodeArrayBuffer(url);\n            return;\n        }\n        request = new XMLHttpRequest();\n        request.open('GET', url, true);\n        request.responseType = 'arraybuffer';\n        request.addEventListener('progress', progressHandler);\n        request.addEventListener('load', loadHandler);\n        request.addEventListener('error', errorHandler);\n        request.send();\n    }\n\n    // audio element\n\n    function loadAudioElement() {\n        if (!data || !data.tagName) {\n            data = document.createElement('audio');\n        }\n\n        if (!isTouchLocked) {\n            // timeout because sometimes canplaythrough doesn't fire\n            window.clearTimeout(timeout);\n            timeout = window.setTimeout(readyHandler, 2000);\n            data.addEventListener('canplaythrough', readyHandler, false);\n        }\n\n        data.addEventListener('error', errorHandler, false);\n        data.preload = 'auto';\n        data.src = url;\n        data.load();\n\n        if (isTouchLocked) {\n            dispatchComplete(data);\n        }\n    }\n\n    function start(force = false) {\n        if (!url || (deferLoad && !force)) {\n            return;\n        }\n        if (audioContext) {\n            loadArrayBuffer();\n        } else {\n            loadAudioElement();\n        }\n    }\n\n    // reload\n\n    function load(newUrl) {\n        url = newUrl;\n        start();\n    }\n\n    const api = {\n        on: emitter.on.bind(emitter),\n        once: emitter.once.bind(emitter),\n        off: emitter.off.bind(emitter),\n        load,\n        start,\n        cancel,\n        destroy\n    };\n\n    Object.defineProperties(api, {\n        data: {\n            get: function() {\n                return data;\n            }\n        },\n        progress: {\n            get: function() {\n                return progress;\n            }\n        },\n        audioContext: {\n            set: function(value) {\n                audioContext = value;\n            }\n        },\n        isTouchLocked: {\n            set: function(value) {\n                isTouchLocked = value;\n            }\n        },\n        url: {\n            get: function() {\n                return url;\n            }\n        }\n    });\n\n    return Object.freeze(api);\n}\n\nLoader.Group = function() {\n    const emitter = new Emitter();\n    const queue = [];\n    let numLoaded = 0,\n        numTotal = 0,\n        currentLoader;\n\n    function progressHandler(progress) {\n        const loaded = numLoaded + progress;\n        emitter.emit('progress', loaded / numTotal);\n    }\n\n    function completeHandler() {\n        numLoaded++;\n        removeListeners();\n        emitter.emit('progress', numLoaded / numTotal);\n        next();\n    }\n\n    function errorHandler(e) {\n        console.error(e);\n        removeListeners();\n        emitter.emit('error', e);\n        next();\n    }\n\n    function next() {\n        if (queue.length === 0) {\n            currentLoader = null;\n            emitter.emit('complete');\n            return;\n        }\n\n        currentLoader = queue.pop();\n        currentLoader.on('progress', progressHandler);\n        currentLoader.once('loaded', completeHandler);\n        currentLoader.once('error', errorHandler);\n        currentLoader.start();\n    }\n\n    function removeListeners() {\n        currentLoader.off('progress', progressHandler);\n        currentLoader.off('loaded', completeHandler);\n        currentLoader.off('error', errorHandler);\n    }\n\n    function add(loader) {\n        queue.push(loader);\n        numTotal++;\n        return loader;\n    }\n\n    function start() {\n        numTotal = queue.length;\n        next();\n    }\n\n    return Object.freeze({\n        on: emitter.on.bind(emitter),\n        once: emitter.once.bind(emitter),\n        off: emitter.off.bind(emitter),\n        add,\n        start\n    });\n};\n","export default function log(api) {\n    const title = 'sono ' + api.VERSION,\n        info = 'Supported:' + api.isSupported +\n        ' WebAudioAPI:' + api.hasWebAudio +\n        ' TouchLocked:' + api.isTouchLocked +\n        ' State:' + (api.context && api.context.state) +\n        ' Extensions:' + api.file.extensions;\n\n    if (navigator.userAgent.indexOf('Chrome') > -1) {\n        const args = [\n            '%c ♫ ' + title +\n            ' ♫ %c ' + info + ' ',\n            'color: #FFFFFF; background: #379F7A',\n            'color: #1F1C0D; background: #E0FBAC'\n        ];\n        console.log.apply(console, args);\n    } else if (window.console && window.console.log.call) {\n        console.log.call(console, title + ' ' + info);\n    }\n}\n","export default function pageVisibility(onHidden, onShown) {\n    let hidden = null;\n    let visibilityChange = null;\n\n    if (typeof document.hidden !== 'undefined') {\n        hidden = 'hidden';\n        visibilityChange = 'visibilitychange';\n    } else if (typeof document.mozHidden !== 'undefined') {\n        hidden = 'mozHidden';\n        visibilityChange = 'mozvisibilitychange';\n    } else if (typeof document.msHidden !== 'undefined') {\n        hidden = 'msHidden';\n        visibilityChange = 'msvisibilitychange';\n    } else if (typeof document.webkitHidden !== 'undefined') {\n        hidden = 'webkitHidden';\n        visibilityChange = 'webkitvisibilitychange';\n    }\n\n    function onChange() {\n        if (document[hidden]) {\n            onHidden();\n        } else {\n            onShown();\n        }\n    }\n\n    if (typeof visibilityChange !== 'undefined') {\n        document.addEventListener(visibilityChange, onChange, false);\n    }\n}\n","export default function BufferSource(buffer, context, endedCallback) {\n    const api = {};\n    let ended = false;\n    let loop = false;\n    let paused = false;\n    let cuedAt = 0;\n    let playbackRate = 1;\n    let playing = false;\n    let sourceNode = null;\n    let startedAt = 0;\n\n    function createSourceNode() {\n        if (!sourceNode && context) {\n            sourceNode = context.createBufferSource();\n            sourceNode.buffer = buffer;\n        }\n        return sourceNode;\n    }\n\n    /*\n     * Controls\n     */\n\n    function stop() {\n        if (sourceNode) {\n            sourceNode.onended = null;\n            try {\n                sourceNode.disconnect();\n                sourceNode.stop(0);\n            } catch (e) {}\n            sourceNode = null;\n        }\n\n        paused = false;\n        cuedAt = 0;\n        playing = false;\n        startedAt = 0;\n    }\n\n    function pause() {\n        const elapsed = context.currentTime - startedAt;\n        stop();\n        cuedAt = elapsed;\n        playing = false;\n        paused = true;\n    }\n\n    function endedHandler() {\n        stop();\n        ended = true;\n        if (typeof endedCallback === 'function') {\n            endedCallback(api);\n        }\n    }\n\n    function play(delay = 0, offset = 0) {\n        if (playing) {\n            return;\n        }\n\n        delay = delay ? context.currentTime + delay : 0;\n\n        if (offset) {\n            cuedAt = 0;\n        }\n\n        if (cuedAt) {\n            offset = cuedAt;\n        }\n\n        while (offset > api.duration) {\n            offset = offset % api.duration;\n        }\n\n        createSourceNode();\n        sourceNode.onended = endedHandler;\n        sourceNode.start(delay, offset);\n\n        sourceNode.loop = loop;\n        sourceNode.playbackRate.value = playbackRate;\n\n        startedAt = context.currentTime - offset;\n        ended = false;\n        paused = false;\n        cuedAt = 0;\n        playing = true;\n    }\n\n\n    /*\n     * Destroy\n     */\n\n    function destroy() {\n        stop();\n        buffer = null;\n        context = null;\n        endedCallback = null;\n        sourceNode = null;\n    }\n\n    /*\n     * Getters & Setters\n     */\n\n    Object.defineProperties(api, {\n        play: {\n            value: play\n        },\n        pause: {\n            value: pause\n        },\n        stop: {\n            value: stop\n        },\n        destroy: {\n            value: destroy\n        },\n        currentTime: {\n            get: function() {\n                if (cuedAt) {\n                    return cuedAt;\n                }\n                if (startedAt) {\n                    return context.currentTime - startedAt;\n                }\n                return 0;\n            },\n            set: function(value) {\n                cuedAt = value;\n            }\n        },\n        duration: {\n            get: function() {\n                return buffer ? buffer.duration : 0;\n            }\n        },\n        ended: {\n            get: function() {\n                return ended;\n            }\n        },\n        loop: {\n            get: function() {\n                return loop;\n            },\n            set: function(value) {\n                loop = !!value;\n                if (sourceNode) {\n                    sourceNode.loop = loop;\n                }\n            }\n        },\n        paused: {\n            get: function() {\n                return paused;\n            }\n        },\n        playbackRate: {\n            get: function() {\n                return playbackRate;\n            },\n            set: function(value) {\n                playbackRate = value;\n                if (sourceNode) {\n                    sourceNode.playbackRate.value = playbackRate;\n                }\n            }\n        },\n        playing: {\n            get: function() {\n                return playing;\n            }\n        },\n        progress: {\n            get: function() {\n                return api.duration ? api.currentTime / api.duration : 0;\n            }\n        },\n        sourceNode: {\n            get: function() {\n                return createSourceNode();\n            }\n        }\n    });\n\n    return Object.freeze(api);\n}\n","import context from '../context';\n\nlet offlineCtx;\n/*\nIn contrast with a standard AudioContext, an OfflineAudioContext doesn't render\nthe audio to the device hardware;\ninstead, it generates it, as fast as it can, and outputs the result to an AudioBuffer.\n*/\nfunction getOfflineContext(numOfChannels, length, sampleRate) {\n    if (offlineCtx) {\n        return offlineCtx;\n    }\n    numOfChannels = numOfChannels || 2;\n    sampleRate = sampleRate || 44100;\n    length = sampleRate || numOfChannels;\n\n    const OfflineCtx = window.OfflineAudioContext || window.webkitOfflineAudioContext;\n\n    offlineCtx = (OfflineCtx ? new OfflineCtx(numOfChannels, length, sampleRate) : null);\n\n    return offlineCtx;\n}\n\n\n/*\n * clone audio buffer\n */\n\nfunction cloneBuffer(buffer, offset = 0, length = buffer.length) {\n    if (!context || context.isFake) {\n        return buffer;\n    }\n    const numChannels = buffer.numberOfChannels;\n    const cloned = context.createBuffer(numChannels, length, buffer.sampleRate);\n    for (let i = 0; i < numChannels; i++) {\n        cloned.getChannelData(i)\n            .set(buffer.getChannelData(i).slice(offset, offset + length));\n    }\n    return cloned;\n}\n\n/*\n * reverse audio buffer\n */\n\nfunction reverseBuffer(buffer) {\n    const numChannels = buffer.numberOfChannels;\n    for (let i = 0; i < numChannels; i++) {\n        Array.prototype.reverse.call(buffer.getChannelData(i));\n    }\n    return buffer;\n}\n\n/*\n * ramp audio param\n */\n\nfunction ramp(param, fromValue, toValue, duration, linear) {\n    if (context.isFake) {\n        return;\n    }\n\n    param.setValueAtTime(fromValue, context.currentTime);\n\n    if (linear) {\n        param.linearRampToValueAtTime(toValue, context.currentTime + duration);\n    } else {\n        param.exponentialRampToValueAtTime(toValue, context.currentTime + duration);\n    }\n}\n\n/*\n * get frequency from min to max by passing 0 to 1\n */\n\nfunction getFrequency(value) {\n    if (context.isFake) {\n        return 0;\n    }\n\t// get frequency by passing number from 0 to 1\n\t// Clamp the frequency between the minimum value (40 Hz) and half of the\n\t// sampling rate.\n    const minValue = 40;\n    const maxValue = context.sampleRate / 2;\n\t// Logarithm (base 2) to compute how many octaves fall in the range.\n    const numberOfOctaves = Math.log(maxValue / minValue) / Math.LN2;\n\t// Compute a multiplier from 0 to 1 based on an exponential scale.\n    const multiplier = Math.pow(2, numberOfOctaves * (value - 1.0));\n\t// Get back to the frequency value between min and max.\n    return maxValue * multiplier;\n}\n\n/*\n * Format seconds as timecode string\n */\n\nfunction timeCode(seconds, delim = ':') {\n\t// const h = Math.floor(seconds / 3600);\n\t// const m = Math.floor((seconds % 3600) / 60);\n    const m = Math.floor(seconds / 60);\n    const s = Math.floor((seconds % 3600) % 60);\n\t// const hr = (h < 10 ? '0' + h + delim : h + delim);\n    const mn = (m < 10 ? '0' + m : m) + delim;\n    const sc = (s < 10 ? '0' + s : s);\n\t// return hr + mn + sc;\n    return mn + sc;\n}\n\nexport default {\n    getOfflineContext,\n    cloneBuffer,\n    reverseBuffer,\n    ramp,\n    getFrequency,\n    timeCode\n};\n","export default function isSafeNumber(value) {\n    return typeof value === 'number' && !isNaN(value) && isFinite(value);\n}\n","export default function AudioSource(Type, data, context, onEnded) {\n    const sourceNode = context.createGain();\n    const source = create(data);\n    const api = {};\n    const pool = [];\n    const clones = [];\n    let numCreated = 0;\n    let singlePlay = false;\n\n    function createSourceNode() {\n        return sourceNode;\n    }\n\n    function disposeSource(src) {\n        src.stop();\n        if (!singlePlay) {\n            pool.push(src);\n        }\n    }\n\n    function onSourceEnded(src) {\n        if (clones.length) {\n            const index = clones.indexOf(src);\n            clones.splice(index, 1);\n            disposeSource(src);\n        }\n        onEnded();\n    }\n\n    function create(buffer) {\n        return new Type(buffer, context, onSourceEnded);\n    }\n\n    function getSource() {\n        if (singlePlay || !source.playing) {\n            return source;\n        }\n\n        if (pool.length > 0) {\n            return pool.pop();\n        }\n\n        numCreated++;\n        if (data.tagName) {\n            return create(data.cloneNode());\n        }\n        return create(data);\n    }\n\n    function play(delay, offset) {\n        const src = getSource();\n        if (sourceNode) {\n            src.sourceNode.connect(sourceNode);\n        }\n        if (src !== source) {\n            clones.push(src);\n        }\n        src.play(delay, offset);\n    }\n\n    function stop() {\n        source.stop();\n        while (clones.length) {\n            disposeSource(clones.pop());\n        }\n    }\n\n    function pause() {\n        source.pause();\n        clones.forEach(src => src.pause());\n    }\n\n    function load(url) {\n        stop();\n        pool.length = 0;\n        source.load(url);\n    }\n\n    function fade(volume, duration) {\n        if (typeof source.fade === 'function') {\n            source.fade(volume, duration);\n            clones.forEach(src => src.fade(volume, duration));\n        }\n    }\n\n    function destroy() {\n        source.destroy();\n        while (clones.length) {\n            clones.pop().destroy();\n        }\n        while (pool.length) {\n            pool.pop().destroy();\n        }\n        sourceNode.disconnect();\n    }\n\n    /*\n     * Getters & Setters\n     */\n\n    Object.defineProperties(api, {\n        play: {\n            value: play\n        },\n        pause: {\n            value: pause\n        },\n        stop: {\n            value: stop\n        },\n        load: {\n            value: load\n        },\n        fade: {\n            value: fade\n        },\n        destroy: {\n            value: destroy\n        },\n        currentTime: {\n            get: function() {\n                return source.currentTime || 0;\n            },\n            set: function(value) {\n                source.currentTime = value;\n                clones.forEach(src => (src.currentTime = value));\n            }\n        },\n        duration: {\n            get: function() {\n                return source.duration || 0;\n            }\n        },\n        ended: {\n            get: function() {\n                return source.ended && clones.every(src => src.ended);\n            }\n        },\n        info: {\n            get: function() {\n                return {\n                    pooled: pool.length,\n                    active: clones.length + 1,\n                    created: numCreated + 1\n                };\n            }\n        },\n        loop: {\n            get: function() {\n                return source.loop;\n            },\n            set: function(value) {\n                source.loop = !!value;\n                clones.forEach(src => (src.loop = !!value));\n            }\n        },\n        paused: {\n            get: function() {\n                return source.paused;\n            }\n        },\n        playbackRate: {\n            get: function() {\n                return source.playbackRate;\n            },\n            set: function(value) {\n                source.playbackRate = value;\n                clones.forEach(src => (src.playbackRate = value));\n            }\n        },\n        playing: {\n            get: function() {\n                return source.playing;\n            }\n        },\n        progress: {\n            get: function() {\n                return source.progress;\n            }\n        },\n        singlePlay: {\n            get: function() {\n                return singlePlay;\n            },\n            set: function(value) {\n                singlePlay = value;\n            }\n        },\n        sourceNode: {\n            get: function() {\n                return createSourceNode();\n            }\n        },\n        volume: {\n            get: function() {\n                return source.volume;\n            },\n            set: function(value) {\n                if (source.hasOwnProperty('volume')) {\n                    source.volume = value;\n                    clones.forEach(src => (src.volume = value));\n                }\n            }\n        },\n        groupVolume: {\n            get: function() {\n                return source.groupVolume;\n            },\n            set: function(value) {\n                if (!source.hasOwnProperty('groupVolume')) {\n                    return;\n                }\n                source.groupVolume = value;\n                clones.forEach(src => (src.groupVolume = value));\n            }\n        }\n    });\n\n    return Object.freeze(api);\n}\n","export default function MediaSource(el, context, onEnded) {\n    const api = {};\n    let ended = false,\n        endedCallback = onEnded,\n        delayTimeout,\n        fadeTimeout,\n        loop = false,\n        paused = false,\n        playbackRate = 1,\n        playing = false,\n        sourceNode = null,\n        groupVolume = 1,\n        volume = 1;\n\n    function createSourceNode() {\n        if (!sourceNode && context) {\n            sourceNode = context.createMediaElementSource(el);\n        }\n        return sourceNode;\n    }\n\n    /*\n     * Load\n     */\n\n    function load(url) {\n        el.src = url;\n        el.load();\n        ended = false;\n        paused = false;\n        playing = false;\n    }\n\n    /*\n     * Controls\n     */\n\n    function readyHandler() {\n        el.removeEventListener('canplaythrough', readyHandler);\n        if (playing) {\n            el.play();\n        }\n    }\n\n    /*\n     * Ended handler\n     */\n\n    function endedHandler() {\n\n        if (loop) {\n            el.currentTime = 0;\n            // fixes bug where server doesn't support seek:\n            if (el.currentTime > 0) {\n                el.load();\n            }\n            el.play();\n\n            return;\n        }\n\n        ended = true;\n        paused = false;\n        playing = false;\n\n        if (typeof endedCallback === 'function') {\n            endedCallback(api);\n        }\n    }\n\n    function play(delay, offset) {\n        clearTimeout(delayTimeout);\n\n        el.volume = volume * groupVolume;\n        el.playbackRate = playbackRate;\n\n        if (offset) {\n            el.currentTime = offset;\n        }\n\n        if (delay) {\n            delayTimeout = setTimeout(play, delay);\n        } else {\n            // el.load();\n            el.play();\n        }\n\n        ended = false;\n        paused = false;\n        playing = true;\n\n        el.removeEventListener('ended', endedHandler);\n        el.addEventListener('ended', endedHandler, false);\n\n        if (el.readyState < 1) {\n            el.removeEventListener('canplaythrough', readyHandler);\n            el.addEventListener('canplaythrough', readyHandler, false);\n            // el.load();\n            el.play();\n        }\n    }\n\n    function pause() {\n        clearTimeout(delayTimeout);\n\n        if (!el) {\n            return;\n        }\n\n        el.pause();\n        playing = false;\n        paused = true;\n    }\n\n    function stop() {\n        clearTimeout(delayTimeout);\n\n        if (!el) {\n            return;\n        }\n\n        el.pause();\n\n        try {\n            el.currentTime = 0;\n            // fixes bug where server doesn't support seek:\n            if (el.currentTime > 0) {\n                el.load();\n            }\n        } catch (e) {}\n\n        playing = false;\n        paused = false;\n    }\n\n    /*\n     * Fade for no webaudio\n     */\n\n    function fade(toVolume, duration) {\n        if (context && !context.isFake) {\n            return api;\n        }\n\n        function ramp(value, step) {\n            fadeTimeout = window.setTimeout(() => {\n                api.volume = api.volume + (value - api.volume) * 0.2;\n                if (Math.abs(api.volume - value) > 0.05) {\n                    ramp(value, step);\n                    return;\n                }\n                api.volume = value;\n            }, step * 1000);\n        }\n\n        window.clearTimeout(fadeTimeout);\n        ramp(toVolume, duration / 10);\n\n        return api;\n    }\n\n    /*\n     * Destroy\n     */\n\n    function destroy() {\n        el.removeEventListener('ended', endedHandler);\n        el.removeEventListener('canplaythrough', readyHandler);\n        stop();\n        el = null;\n        context = null;\n        endedCallback = null;\n        sourceNode = null;\n    }\n\n    /*\n     * Getters & Setters\n     */\n\n    Object.defineProperties(api, {\n        play: {\n            value: play\n        },\n        pause: {\n            value: pause\n        },\n        stop: {\n            value: stop\n        },\n        load: {\n            value: load\n        },\n        fade: {\n            value: fade\n        },\n        destroy: {\n            value: destroy\n        },\n        currentTime: {\n            get: function() {\n                return el ? el.currentTime : 0;\n            },\n            set: function(value) {\n                if (el) {\n                    el.currentTime = value;\n                }\n            }\n        },\n        duration: {\n            get: function() {\n                return el ? el.duration : 0;\n            }\n        },\n        ended: {\n            get: function() {\n                return ended;\n            }\n        },\n        loop: {\n            get: function() {\n                return loop;\n            },\n            set: function(value) {\n                loop = !!value;\n            }\n        },\n        paused: {\n            get: function() {\n                return paused;\n            }\n        },\n        playbackRate: {\n            get: function() {\n                return playbackRate;\n            },\n            set: function(value) {\n                playbackRate = value;\n                if (el) {\n                    el.playbackRate = playbackRate;\n                }\n            }\n        },\n        playing: {\n            get: function() {\n                return playing;\n            }\n        },\n        progress: {\n            get: function() {\n                return el && el.duration ? el.currentTime / el.duration : 0;\n            }\n        },\n        sourceNode: {\n            get: function() {\n                return createSourceNode();\n            }\n        },\n        volume: {\n            get: function() {\n                return volume;\n            },\n            set: function(value) {\n                window.clearTimeout(fadeTimeout);\n                volume = value;\n                if (el) {\n                    el.volume = volume * groupVolume;\n                }\n            }\n        },\n        groupVolume: {\n            get: function() {\n                return groupVolume;\n            },\n            set: function(value) {\n                groupVolume = value;\n                if (el) {\n                    el.volume = volume * groupVolume;\n                }\n            }\n        }\n    });\n\n    return Object.freeze(api);\n}\n","export default function MicrophoneSource(stream, context) {\n    let ended = false,\n        paused = false,\n        cuedAt = 0,\n        playing = false,\n        sourceNode = null, // MicrophoneSourceNode\n        startedAt = 0;\n\n    function createSourceNode() {\n        if (!sourceNode && context) {\n            sourceNode = context.createMediaStreamSource(stream);\n            // HACK: stops moz garbage collection killing the stream\n            // see https://support.mozilla.org/en-US/questions/984179\n            if (navigator.mozGetUserMedia) {\n                window.mozHack = sourceNode;\n            }\n        }\n        return sourceNode;\n    }\n\n    /*\n     * Controls\n     */\n\n    function play(delay) {\n        delay = delay ? context.currentTime + delay : 0;\n\n        createSourceNode();\n        sourceNode.start(delay);\n\n        startedAt = context.currentTime - cuedAt;\n        ended = false;\n        playing = true;\n        paused = false;\n        cuedAt = 0;\n    }\n\n    function stop() {\n        if (sourceNode) {\n            try {\n                sourceNode.stop(0);\n            } catch (e) {}\n            sourceNode = null;\n        }\n        ended = true;\n        paused = false;\n        cuedAt = 0;\n        playing = false;\n        startedAt = 0;\n    }\n\n    function pause() {\n        const elapsed = context.currentTime - startedAt;\n        stop();\n        cuedAt = elapsed;\n        playing = false;\n        paused = true;\n    }\n\n    /*\n     * Destroy\n     */\n\n    function destroy() {\n        stop();\n        context = null;\n        sourceNode = null;\n        stream = null;\n        window.mozHack = null;\n    }\n\n    /*\n     * Api\n     */\n\n    const api = {\n        play,\n        pause,\n        stop,\n        destroy,\n\n        duration: 0,\n        progress: 0\n    };\n\n    /*\n     * Getters & Setters\n     */\n\n    Object.defineProperties(api, {\n        currentTime: {\n            get: function() {\n                if (cuedAt) {\n                    return cuedAt;\n                }\n                if (startedAt) {\n                    return context.currentTime - startedAt;\n                }\n                return 0;\n            },\n            set: function(value) {\n                cuedAt = value;\n            }\n        },\n        ended: {\n            get: function() {\n                return ended;\n            }\n        },\n        paused: {\n            get: function() {\n                return paused;\n            }\n        },\n        playing: {\n            get: function() {\n                return playing;\n            }\n        },\n        sourceNode: {\n            get: function() {\n                return createSourceNode();\n            }\n        }\n    });\n\n    return Object.freeze(api);\n}\n","export default function OscillatorSource(type, context) {\n    let ended = false,\n        paused = false,\n        cuedAt = 0,\n        playing = false,\n        sourceNode = null, // OscillatorSourceNode\n        startedAt = 0,\n        frequency = 200,\n        api = null;\n\n    function createSourceNode() {\n        if (!sourceNode && context) {\n            sourceNode = context.createOscillator();\n            sourceNode.type = type;\n            sourceNode.frequency.value = frequency;\n        }\n        return sourceNode;\n    }\n\n    /*\n     * Controls\n     */\n\n    function play(delay) {\n        delay = delay || 0;\n        if (delay) {\n            delay = context.currentTime + delay;\n        }\n\n        createSourceNode();\n        sourceNode.start(delay);\n\n        if (cuedAt) {\n            startedAt = context.currentTime - cuedAt;\n        } else {\n            startedAt = context.currentTime;\n        }\n\n        ended = false;\n        playing = true;\n        paused = false;\n        cuedAt = 0;\n    }\n\n    function stop() {\n        if (sourceNode) {\n            try {\n                sourceNode.stop(0);\n            } catch (e) {}\n            sourceNode = null;\n        }\n        ended = true;\n        paused = false;\n        cuedAt = 0;\n        playing = false;\n        startedAt = 0;\n    }\n\n    function pause() {\n        const elapsed = context.currentTime - startedAt;\n        stop();\n        cuedAt = elapsed;\n        playing = false;\n        paused = true;\n    }\n\n    /*\n     * Destroy\n     */\n\n    function destroy() {\n        stop();\n        context = null;\n        sourceNode = null;\n    }\n\n    /*\n     * Api\n     */\n\n    api = {\n        play: play,\n        pause: pause,\n        stop: stop,\n        destroy: destroy\n    };\n\n    /*\n     * Getters & Setters\n     */\n\n    Object.defineProperties(api, {\n        currentTime: {\n            get: function() {\n                if (cuedAt) {\n                    return cuedAt;\n                }\n                if (startedAt) {\n                    return context.currentTime - startedAt;\n                }\n                return 0;\n            },\n            set: function(value) {\n                cuedAt = value;\n            }\n        },\n        duration: {\n            value: 0\n        },\n        ended: {\n            get: function() {\n                return ended;\n            }\n        },\n        frequency: {\n            get: function() {\n                return frequency;\n            },\n            set: function(value) {\n                frequency = value;\n                if (sourceNode) {\n                    sourceNode.frequency.value = value;\n                }\n            }\n        },\n        paused: {\n            get: function() {\n                return paused;\n            }\n        },\n        playing: {\n            get: function() {\n                return playing;\n            }\n        },\n        progress: {\n            value: 0\n        },\n        sourceNode: {\n            get: function() {\n                return createSourceNode();\n            }\n        }\n    });\n\n    return Object.freeze(api);\n}\n","import context from './context';\nimport BufferSource from './source/buffer-source';\nimport Effects from './effects';\nimport Emitter from './utils/emitter';\nimport file from './utils/file';\nimport utils from './utils/utils';\nimport isSafeNumber from './utils/isSafeNumber';\nimport Loader from './utils/loader';\nimport AudioSource from './source/audio-source';\nimport MediaSource from './source/media-source';\nimport MicrophoneSource from './source/microphone-source';\nimport OscillatorSource from './source/oscillator-source';\n\nexport default class Sound extends Emitter {\n    constructor(config) {\n        super();\n\n        this.id = config.id || null;\n\n        this._context = config.context || context;\n        this._destination = config.destination || this._context.destination;\n        this._effects = new Effects(this._context);\n        this._gain = this._context.createGain();\n        this._config = config;\n\n        this._data = null;\n        this._isTouchLocked = false;\n        this._loader = null;\n        this._loop = false;\n        this._offset = 0;\n        this._playbackRate = 1;\n        this._playWhenReady = null;\n        this._source = null;\n        this._wave = null;\n        this._userData = {};\n\n        this._effects.setDestination(this._gain);\n        this._gain.connect(this._destination);\n\n        this._onEnded = this._onEnded.bind(this);\n        this._onLoad = this._onLoad.bind(this);\n        this._onLoadError = this._onLoadError.bind(this);\n    }\n\n    prepare(newConfig = null, force = false) {\n        const skipLoad = !force && !this._source && !!this._config.deferLoad;\n\n        if (newConfig) {\n            const configSrc = file.getSrc(newConfig);\n            const src = file.getSupportedFile(configSrc) || this._config.src;\n            this._config = Object.assign(this._config, newConfig, {src});\n        }\n\n        if (this._source && this._data && this._data.tagName) {\n            this._source.load(this._config.src);\n        } else {\n            this._loader = new Loader(this._config.src, skipLoad);\n            this._loader.audioContext = !!this._config.asMediaElement || this._context.isFake ? null : this._context;\n            this._loader.isTouchLocked = this._isTouchLocked;\n            this._loader.once('loaded', this._onLoad);\n            this._loader.on('error', this._onLoadError);\n        }\n        return this;\n    }\n\n    load(config = null) {\n        this.stop();\n        this._source = null;\n\n        if (!config || file.containsURL(config)) {\n            if (this._loader) {\n                this._loader.destroy();\n            }\n            this.prepare(config, true);\n            this._loader.start();\n        } else {\n            this.data = config.data || config;\n        }\n\n        return this;\n    }\n\n    play(delay, offset) {\n        if (!this._source || this._isTouchLocked) {\n            this._playWhenReady = () => {\n                if (this._source) {\n                    this.play(delay, offset);\n                }\n            };\n            if (!!this._config.deferLoad) {\n                if (!this._loader) {\n                    this.prepare(null, true);\n                }\n                this._loader.start(true);\n            }\n            return this;\n        }\n        this._playWhenReady = null;\n        this._effects.setSource(this._source.sourceNode);\n\n        if (this._offset && typeof offset === 'undefined') {\n            offset = this._offset;\n            this._offset = 0;\n        }\n\n        this._source.play(delay, offset);\n\n        if (this._source.hasOwnProperty('volume')) {\n            this._source.volume = this._gain.gain.value;\n        }\n\n        if (this._source.hasOwnProperty('loop')) {\n            this._source.loop = this._loop;\n        }\n\n        this.emit('play', this);\n\n        return this;\n    }\n\n    pause() {\n        this._source && this._source.pause();\n        this.emit('pause', this);\n        return this;\n    }\n\n    stop(delay) {\n        this._source && this._source.stop(delay || 0);\n        this.emit('stop', this);\n        return this;\n    }\n\n    seek(value) {\n        this.currentTime = value;\n        return this;\n    }\n\n    fade(volume, duration = 1) {\n        if (!this._source) {\n            return this;\n        }\n\n        const param = this._gain.gain;\n\n        if (this._context && !this._context.isFake) {\n            const time = this._context.currentTime;\n            param.cancelScheduledValues(time);\n            param.setValueAtTime(param.value, time);\n            param.linearRampToValueAtTime(volume, time + duration);\n        } else if (typeof this._source.fade === 'function') {\n            this._source.fade(volume, duration);\n            param.value = volume;\n        }\n\n        this.emit('fade', this, volume);\n\n        return this;\n    }\n\n    unload() {\n        this._source && this._source.destroy();\n        this._loader && this._loader.destroy();\n        this._data = null;\n        this._playWhenReady = null;\n        this._source = null;\n        this._loader = null;\n        this._config.deferLoad = true;\n        this.emit('unload', this);\n    }\n\n    reload() {\n        return this.load(null, true);\n    }\n\n    destroy() {\n        this._source && this._source.destroy();\n        this._effects && this._effects.destroy();\n        this._gain && this._gain.disconnect();\n        if (this._loader) {\n            this._loader.off('loaded');\n            this._loader.off('error');\n            this._loader.destroy();\n        }\n        this._gain = null;\n        this._context = null;\n        this._destination = null;\n        this._data = null;\n        this._playWhenReady = null;\n        this._source = null;\n        this._effects = null;\n        this._loader = null;\n        this._config = null;\n        this.emit('destroy', this);\n        this.off();\n    }\n\n    waveform(length) {\n        if (!this._wave) {\n            this._wave = utils.waveform();\n        }\n        if (!this._data) {\n            this.once('ready', () => this._wave(this._data, length));\n        }\n        return this._wave(this._data, length);\n    }\n\n    get context() {\n        return this._context;\n    }\n\n    get currentTime() {\n        return this._source ? this._source.currentTime : this._offset;\n    }\n\n    set currentTime(value) {\n        if (this._source) {\n            const playing = this._source.playing;\n            this._source.stop();\n            this._source.currentTime = value;\n            if (playing) {\n                this.play(0, value);\n            }\n        } else {\n            this._offset = value;\n        }\n    }\n\n    get data() {\n        return this._data;\n    }\n\n    set data(value) {\n        if (!value) {\n            return;\n        }\n        this._data = value;\n        this._createSource(value);\n    }\n\n    get duration() {\n        return this._source ? this._source.duration : 0;\n    }\n\n    get effects() {\n        return this._effects._nodes;\n    }\n\n    set effects(value) {\n        this._effects.removeAll().add(value);\n    }\n\n    get fx() {\n        return this.effects;\n    }\n\n    set fx(value) {\n        this.effects = value;\n    }\n\n    get ended() {\n        return !!this._source && this._source.ended;\n    }\n\n    get frequency() {\n        return this._source ? this._source.frequency : 0;\n    }\n\n    set frequency(value) {\n        if (this._source && this._source.hasOwnProperty('frequency')) {\n            this._source.frequency = value;\n        }\n    }\n\n    get gain() {\n        return this._gain;\n    }\n\n    // for media element source\n    get groupVolume() {\n        return this._source.groupVolume;\n    }\n\n    set groupVolume(value) {\n        if (this._source && this._source.hasOwnProperty('groupVolume')) {\n            this._source.groupVolume = value;\n        }\n    }\n\n    set isTouchLocked(value) {\n        this._isTouchLocked = value;\n        if (this._loader) {\n            this._loader.isTouchLocked = value;\n        }\n        if (!value && this._playWhenReady) {\n            this._playWhenReady();\n        }\n    }\n\n    get loader() {\n        return this._loader;\n    }\n\n    get loop() {\n        return this._loop;\n    }\n\n    set loop(value) {\n        this._loop = !!value;\n\n        if (this._source && this._source.hasOwnProperty('loop') && this._source.loop !== this._loop) {\n            this._source.loop = this._loop;\n        }\n    }\n\n    get singlePlay() {\n        return this._config.singlePlay;\n    }\n\n    set singlePlay(value) {\n        this._config.singlePlay = value;\n        this._source.singlePlay = value;\n    }\n\n    get config() {\n        return this._config;\n    }\n\n    get paused() {\n        return !!this._source && this._source.paused;\n    }\n\n    get playing() {\n        return !!this._source && this._source.playing;\n    }\n\n    get playbackRate() {\n        return this._playbackRate;\n    }\n\n    set playbackRate(value) {\n        this._playbackRate = value;\n        if (this._source) {\n            this._source.playbackRate = value;\n        }\n    }\n\n    get progress() {\n        return this._source ? this._source.progress || 0 : 0;\n    }\n\n    get sourceInfo() {\n        return this._source && this._source.info ? this._source.info : {};\n    }\n\n    get sourceNode() {\n        return this._source ? this._source.sourceNode : null;\n    }\n\n    get volume() {\n        return this._gain.gain.value;\n    }\n\n    set volume(value) {\n        if (!isSafeNumber(value)) {\n            return;\n        }\n\n        value = Math.min(Math.max(value, 0), 1);\n\n        const param = this._gain.gain;\n        const time = this._context.currentTime;\n        param.cancelScheduledValues(time);\n        param.value = value;\n        param.setValueAtTime(value, time);\n\n        if (this._source && this._source.hasOwnProperty('volume')) {\n            this._source.volume = value;\n        }\n    }\n\n    get userData() {\n        return this._userData;\n    }\n\n    _createSource(data) {\n        const isAudioBuffer = file.isAudioBuffer(data);\n        if (isAudioBuffer || file.isMediaElement(data)) {\n            const Fn = isAudioBuffer ? BufferSource : MediaSource;\n            this._source = new AudioSource(Fn, data, this._context, this._onEnded);\n            this._source.singlePlay = !!this._config.singlePlay;\n            this._source.playbackRate = this._playbackRate;\n            this._source.currentTime = this._offset;\n        } else if (file.isMediaStream(data)) {\n            this._source = new MicrophoneSource(data, this._context);\n        } else if (file.isOscillatorType((data && data.type) || data)) {\n            this._source = new OscillatorSource(data.type || data, this._context);\n        } else {\n            throw new Error('Cannot detect data type: ' + data);\n        }\n\n        this._effects.setSource(this._source.sourceNode);\n\n        this.emit('ready', this);\n\n        if (this._playWhenReady) {\n            this._playWhenReady();\n        }\n    }\n\n    _onEnded() {\n        this.emit('ended', this);\n    }\n\n    _onLoad(data) {\n        this._data = data;\n        this.emit('loaded', this);\n        this._createSource(data);\n    }\n\n    _onLoadError(err) {\n        if (!this.listenerCount('error')) {\n            console.error('Sound load error', this.id, this._loader.url);\n        }\n        this.emit('error', this, err);\n    }\n}\n\n// expose for unit tests\nSound.__source = {\n    BufferSource,\n    MediaSource,\n    MicrophoneSource,\n    OscillatorSource\n};\n","import Group from '../group';\n\nexport default function SoundGroup(context, destination) {\n    const group = new Group(context, destination);\n    const sounds = group.sounds;\n    let playbackRate = 1,\n        loop = false,\n        src;\n\n    function getSource() {\n        if (!sounds.length) {\n            return;\n        }\n\n        src = sounds.slice(0)\n            .sort((a, b) => b.duration - a.duration)[0];\n    }\n\n    const add = group.add;\n    group.add = function(sound) {\n        add(sound);\n        getSource();\n        return group;\n    };\n\n    const remove = group.rmeove;\n    group.remove = function(soundOrId) {\n        remove(soundOrId);\n        getSource();\n        return group;\n    };\n\n    Object.defineProperties(group, {\n        currentTime: {\n            get: function() {\n                return src ? src.currentTime : 0;\n            },\n            set: function(value) {\n                this.stop();\n                this.play(0, value);\n            }\n        },\n        duration: {\n            get: function() {\n                return src ? src.duration : 0;\n            }\n        },\n        // ended: {\n        //     get: function() {\n        //         return src ? src.ended : false;\n        //     }\n        // },\n        loop: {\n            get: function() {\n                return loop;\n            },\n            set: function(value) {\n                loop = !!value;\n                sounds.forEach(function(sound) {\n                    sound.loop = loop;\n                });\n            }\n        },\n        paused: {\n            get: function() {\n                // return src ? src.paused : false;\n                return !!src && src.paused;\n            }\n        },\n        progress: {\n            get: function() {\n                return src ? src.progress : 0;\n            }\n        },\n        playbackRate: {\n            get: function() {\n                return playbackRate;\n            },\n            set: function(value) {\n                playbackRate = value;\n                sounds.forEach(function(sound) {\n                    sound.playbackRate = playbackRate;\n                });\n            }\n        },\n        playing: {\n            get: function() {\n                // return src ? src.playing : false;\n                return !!src && src.playing;\n            }\n        }\n    });\n\n    return group;\n}\n","import iOS from './iOS';\nimport dummy from './dummy';\n\nexport default function touchLock(context, callback) {\n    const locked = iOS;\n\n    function unlock() {\n        if (context && context.state === 'suspended') {\n            context.resume()\n                .then(() => {\n                    dummy(context);\n                    unlocked();\n                });\n        } else {\n            unlocked();\n        }\n    }\n\n    function unlocked() {\n        document.body.removeEventListener('touchstart', unlock);\n        document.body.removeEventListener('touchend', unlock);\n        callback();\n    }\n\n    if (locked) {\n        document.body.addEventListener('touchstart', unlock, false);\n        document.body.addEventListener('touchend', unlock, false);\n    }\n\n    return locked;\n}\n","import 'core-js/fn/object/assign';\nimport context from './context';\nimport Effects from './effects';\nimport file from './utils/file';\nimport Group from './group';\nimport Loader from './utils/loader';\nimport log from './utils/log';\nimport pageVisibility from './utils/pageVisibility';\nimport Sound from './sound';\nimport SoundGroup from './utils/sound-group';\nimport touchLock from './utils/touchLock';\nimport utils from './utils/utils';\n\nconst VERSION = '2.0.7';\nconst bus = new Group(context, context.destination);\n\n/*\n* Get Sound by id\n*/\n\nfunction get(id) {\n    return bus.find(id);\n}\n\n/*\n* Create group\n*/\n\nfunction group(sounds) {\n    const soundGroup = new SoundGroup(context, bus.gain);\n    if (sounds) {\n        sounds.forEach((sound) => soundGroup.add(sound));\n    }\n    return soundGroup;\n}\n\n/*\n* Loading\n*/\n\nfunction add(config) {\n    const src = file.getSupportedFile(config.src || config.url || config.data || config);\n    const sound = new Sound(Object.assign({}, config || {}, {\n        src,\n        context,\n        destination: bus.gain\n    }));\n    sound.isTouchLocked = isTouchLocked;\n    if (config) {\n        sound.id = config.id || config.name || '';\n        sound.loop = !!config.loop;\n        sound.volume = config.volume;\n        sound.effects = config.effects || [];\n    }\n    bus.add(sound);\n    return sound;\n}\n\nfunction queue(config, loaderGroup) {\n    const sound = add(config).prepare();\n\n    if (loaderGroup) {\n        loaderGroup.add(sound.loader);\n    }\n    return sound;\n}\n\nfunction load(config) {\n    const src = config.src || config.url || config.data || config;\n    let sound, loader;\n\n    if (file.containsURL(src)) {\n        sound = queue(config);\n        loader = sound.loader;\n    } else if (Array.isArray(src) && file.containsURL(src[0].src || src[0].url)) {\n        sound = [];\n        loader = new Loader.Group();\n        src.forEach((url) => sound.push(queue(url, loader)));\n    } else {\n        const errorMessage = 'sono.load: No audio file URLs found in config.';\n        if (config.onError) {\n            config.onError('[ERROR] ' + errorMessage);\n        } else {\n            throw new Error(errorMessage);\n        }\n        return null;\n    }\n    if (config.onProgress) {\n        loader.on('progress', (progress) => config.onProgress(progress));\n    }\n    if (config.onComplete) {\n        loader.once('complete', () => {\n            loader.off('progress');\n            config.onComplete(sound);\n        });\n    }\n    loader.once('error', err => {\n        loader.off('error');\n        if (config.onError) {\n            config.onError(err);\n        } else {\n            console.error('[ERROR] sono.load: ' + err);\n        }\n    });\n    loader.start();\n\n    return sound;\n}\n\n/*\n* Create Sound\n*\n* Accepted values for param config:\n* Object config e.g. { id:'foo', url:['foo.ogg', 'foo.mp3'] }\n* Array (of files e.g. ['foo.ogg', 'foo.mp3'])\n* ArrayBuffer\n* HTMLMediaElement\n* Filename string (e.g. 'foo.ogg')\n* Oscillator type string (i.e. 'sine', 'square', 'sawtooth', 'triangle')\n*/\n\nfunction create(config) {\n    // try to load if config contains URLs\n    if (file.containsURL(config)) {\n        return load(config);\n    }\n\n    const sound = add(config);\n    sound.data = config.data || config;\n\n    return sound;\n}\n\n/*\n* Destroy\n*/\n\nfunction destroy(soundOrId) {\n    bus.find(soundOrId, (sound) => sound.destroy());\n    return sono;\n}\n\nfunction destroyAll() {\n    bus.destroy();\n    return sono;\n}\n\n/*\n* Controls\n*/\n\nfunction mute() {\n    bus.mute();\n    return sono;\n}\n\nfunction unMute() {\n    bus.unMute();\n    return sono;\n}\n\nfunction fade(volume, duration) {\n    bus.fade(volume, duration);\n    return sono;\n}\n\nfunction pauseAll() {\n    bus.pause();\n    return sono;\n}\n\nfunction resumeAll() {\n    bus.resume();\n    return sono;\n}\n\nfunction stopAll() {\n    bus.stop();\n    return sono;\n}\n\nfunction play(id, delay, offset) {\n    bus.find(id, (sound) => sound.play(delay, offset));\n    return sono;\n}\n\nfunction pause(id) {\n    bus.find(id, (sound) => sound.pause());\n    return sono;\n}\n\nfunction stop(id) {\n    bus.find(id, (sound) => sound.stop());\n    return sono;\n}\n\n/*\n* Mobile touch lock\n*/\n\nlet isTouchLocked = touchLock(context, () => {\n    isTouchLocked = false;\n    bus.sounds.forEach(sound => (sound.isTouchLocked = false));\n});\n\n/*\n* Page visibility events\n*/\n\nconst pageHiddenPaused = [];\n\n// pause currently playing sounds and store refs\nfunction onHidden() {\n    bus.sounds.forEach(sound => {\n        if (sound.playing) {\n            sound.pause();\n            pageHiddenPaused.push(sound);\n        }\n    });\n}\n\n// play sounds that got paused when page was hidden\nfunction onShown() {\n    while (pageHiddenPaused.length) {\n        pageHiddenPaused.pop().play();\n    }\n}\n\npageVisibility(onHidden, onShown);\n\nfunction register(name, fn, attachTo = Effects.prototype) {\n    attachTo[name] = fn;\n    sono[name] = fn;\n\n    return fn;\n}\n\nconst sono = {\n    canPlay: file.canPlay,\n    context,\n    create,\n    createGroup: group,\n    createSound: create,\n    destroyAll,\n    destroy,\n    effects: bus.effects,\n    extensions: file.extensions,\n    fade,\n    file,\n    gain: bus.gain,\n    getOfflineContext: utils.getOfflineContext,\n    get,\n    getSound: get,\n    group,\n    hasWebAudio: !context.isFake,\n    isSupported: file.extensions.length > 0,\n    load,\n    log: () => log(sono),\n    mute,\n    pause,\n    pauseAll,\n    play,\n    register,\n    resumeAll,\n    stop,\n    stopAll,\n    unMute,\n    utils,\n    VERSION,\n    get effects() {\n        return bus.effects;\n    },\n    set effects(value) {\n        bus.effects.removeAll().add(value);\n    },\n    get fx() {\n        return this.effects;\n    },\n    set fx(value) {\n        this.effects = value;\n    },\n    get isTouchLocked() {\n        return isTouchLocked;\n    },\n    get sounds() {\n        return bus.sounds.slice(0);\n    },\n    get volume() {\n        return bus.volume;\n    },\n    set volume(value) {\n        bus.volume = value;\n    },\n    // expose for unit testing\n    __test: {\n        Effects,\n        Group,\n        Sound\n    }\n\n};\n\nexport default sono;\n","import context from '../core/context';\nimport isSafeNumber from '../core/utils/isSafeNumber';\n\nexport default class AbstractEffect {\n    constructor(node = null) {\n        this._in = node || this.context.createGain();\n        this._out = node || this.context.createGain();\n        if (node) {\n            this._node = node;\n        }\n    }\n\n    connect(node) {\n        this._out.connect(node._in || node);\n    }\n\n    disconnect(...args) {\n        this._out.disconnect(args);\n    }\n\n    setSafeParamValue(param, value) {\n        if (!isSafeNumber(value)) {\n            console.warn(this, 'Attempt to set invalid value ' + value + ' on AudioParam');\n            return;\n        }\n        param.value = value;\n    }\n\n    update() {\n        throw new Error('update must be overridden');\n    }\n\n    get context() {\n        return context;\n    }\n\n    get numberOfInputs() {\n        return 1;\n    }\n\n    get numberOfOutputs() {\n        return 1;\n    }\n\n    get channelCount() {\n        return 1;\n    }\n\n    get channelCountMode() {\n        return 'max';\n    }\n\n    get channelInterpretation() {\n        return 'speakers';\n    }\n}\n","import AbstractEffect from './AbstractEffect';\nimport isSafeNumber from '../core/utils/isSafeNumber';\nimport sono from '../core/sono';\n\nfunction noteFromPitch(frequency) {\n    const noteNum = 12 * (Math.log(frequency / 440) * Math.LOG2E);\n    return Math.round(noteNum) + 69;\n}\n\nfunction frequencyFromNoteNumber(note) {\n    return 440 * Math.pow(2, (note - 69) / 12);\n}\n\nfunction centsOffFromPitch(frequency, note) {\n    return Math.floor(1200 * Math.log(frequency / frequencyFromNoteNumber(note)) * Math.LOG2E);\n}\n\nclass Analyser extends AbstractEffect {\n    constructor({fftSize = 2048, minDecibels = -100, maxDecibels = -30, smoothing = 0.9, useFloats = false} = {}) {\n        super(sono.context.createAnalyser());\n\n        this._useFloats = !!useFloats;\n        this._waveform = null;\n        this._frequencies = null;\n\n        this._node.fftSize = fftSize;\n\n        this.update({minDecibels, maxDecibels, smoothing});\n    }\n\n    update({minDecibels, maxDecibels, smoothing}) {\n        if (isSafeNumber(smoothing)) {\n            this._node.smoothingTimeConstant = smoothing;\n        }\n        if (isSafeNumber(minDecibels)) {\n            this._node.minDecibels = minDecibels;\n        }\n        if (isSafeNumber(maxDecibels)) {\n            this._node.maxDecibels = maxDecibels;\n        }\n    }\n\n    getWaveform() {\n        const useFloats = this._useFloats && this._node.getFloatTimeDomainData;\n\n        if (!this._waveform) {\n            this._waveform = this._createArray(useFloats, this._node.fftSize);\n        }\n\n        if (useFloats) {\n            this._node.getFloatTimeDomainData(this._waveform);\n        } else {\n            this._node.getByteTimeDomainData(this._waveform);\n        }\n\n        return this._waveform;\n    }\n\n    getFrequencies() {\n        const useFloats = this._useFloats && this._node.getFloatFrequencyData;\n\n        if (!this._frequencies) {\n            this._frequencies = this._createArray(useFloats, this._node.frequencyBinCount);\n        }\n\n        if (useFloats) {\n            this._node.getFloatFrequencyData(this._frequencies);\n        } else {\n            this._node.getByteFrequencyData(this._frequencies);\n        }\n\n        return this._frequencies;\n    }\n\n    getAmplitude(callback) {\n        if (!this._amplitudeWorker) {\n            this._createAmplitudeAnalyser();\n        }\n        this._amplitudeCallback = callback || this._amplitudeCallback;\n        const f = new Float32Array(this._node.fftSize);\n        f.set(this.getFrequencies(true));\n        this._amplitudeWorker.postMessage({\n            sum: 0,\n            length: f.byteLength,\n            numSamples: this._node.fftSize / 2,\n            b: f.buffer\n        }, [f.buffer]);\n    }\n\n    getPitch(callback) {\n        if (!this._pitchWorker) {\n            this._createPitchAnalyser();\n        }\n        this._pitchCallback = callback || this._pitchCallback;\n        const f = new Float32Array(this._node.fftSize);\n        f.set(this.getWaveform(true));\n        this._pitchWorker.postMessage({\n            sampleRate: sono.context.sampleRate,\n            b: f.buffer\n        }, [f.buffer]);\n    }\n\n    get frequencyBinCount() {\n        return this._node.frequencyBinCount;\n    }\n\n    get maxDecibels() {\n        return this._node.maxDecibels;\n    }\n\n    set maxDecibels(value) {\n        if (isSafeNumber(value)) {\n            this._node.maxDecibels = value;\n        }\n    }\n\n    get minDecibels() {\n        return this._node.minDecibels;\n    }\n\n    set minDecibels(value) {\n        if (isSafeNumber(value)) {\n            this._node.minDecibels = value;\n        }\n    }\n\n    get smoothing() {\n        return this._node.smoothingTimeConstant;\n    }\n\n    set smoothing(value) {\n        if (isSafeNumber(value)) {\n            this._node.smoothingTimeConstant = value;\n        }\n    }\n\n    _createArray(useFloats, length) {\n        return useFloats ? new Float32Array(length) : new Uint8Array(length);\n    }\n\n    _createAmplitudeAnalyser() {\n        //the worker returns a normalized value\n        //first a sum of all magnitudes devided by the byteLength, then devide  by half the fft (1channel)\n        const amplitudeBlob = new Blob([\n            `onmessage = function(e) {\n                var data = e.data;\n                var f = new Float32Array(data.b);\n                for (var i = 0; i < f.length; i++) {\n                    data.sum += f[i];\n                }\n                data.sum /= f.length;\n                postMessage(Math.max(1.0 - (data.sum / data.numSamples * -1.0), 0));\n            };`\n        ]);\n        const amplitudeBlobURL = URL.createObjectURL(amplitudeBlob);\n        this._amplitudeWorker = new Worker(amplitudeBlobURL);\n        this._amplitudeWorker.onmessage = event => {\n            if (!this._amplitudeCallback) {\n                return;\n            }\n            this._amplitudeCallback(event.data);\n        };\n    }\n\n    _createPitchAnalyser() {\n        const pitchBlob = new Blob([\n            `onmessage = function(e) {\n                var data = e.data;\n                var sampleRate = data.sampleRate;\n                var buf = new Float32Array(data.b);\n                var SIZE = buf.length;\n                var MAX_SAMPLES = Math.floor(SIZE / 2);\n                var bestOffset = -1;\n                var bestCorrel = 0;\n                var rms = 0;\n                var foundGoodCorrelation = false;\n                var correls = new Array(MAX_SAMPLES);\n                for (var i = 0; i < SIZE; i++) {\n                    var val = buf[i];\n                    rms += val * val;\n                }\n                rms = Math.sqrt(rms / SIZE);\n                if (rms < 0.01) {\n                    postMessage(-1);\n                } else {\n                    var lastCorrelation = 1;\n                    for (var offset = 0; offset < MAX_SAMPLES; offset++) {\n                        var correl = 0;\n                        for (var i = 0; i < MAX_SAMPLES; i++) {\n                            correl += Math.abs(buf[i] - buf[i + offset]);\n                        }\n                        correl = 1 - correl / MAX_SAMPLES;\n                        correls[offset] = correl;\n                        if (correl > 0.9 && correl > lastCorrelation) {\n                            foundGoodCorrelation = true;\n                            if (correl > bestCorrel) {\n                                bestCorrel = correl;\n                                bestOffset = offset;\n                            }\n                        } else if (foundGoodCorrelation) {\n                            var shift = (correls[bestOffset + 1] - correls[bestOffset - 1]) / correls[bestOffset];\n                            postMessage(sampleRate / (bestOffset + 8 * shift));\n                        }\n                        lastCorrelation = correl;\n                    }\n                    if (bestCorrel > 0.01) {\n                        postMessage(sampleRate / bestOffset);\n                    } else {\n                        postMessage(-1);\n                    }\n                }\n            };`\n        ]);\n\n        const pitchBlobURL = URL.createObjectURL(pitchBlob);\n        this._pitchWorker = new Worker(pitchBlobURL);\n\n        const noteStrings = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\n        const pitchCallbackObject = {\n            hertz: 0,\n            note: '',\n            noteIndex: 0,\n            detuneCents: 0,\n            detune: ''\n        };\n\n        this._pitchWorker.onmessage = event => {\n            if (!this._pitchCallback) {\n                return;\n            }\n            const hz = event.data;\n            if (hz !== -1) {\n                const note = noteFromPitch(hz);\n                const detune = centsOffFromPitch(hz, note);\n                pitchCallbackObject.hertz = hz;\n                pitchCallbackObject.noteIndex = note % 12;\n                pitchCallbackObject.note = noteStrings[note % 12];\n                pitchCallbackObject.detuneCents = detune;\n                if (detune === 0) {\n                    pitchCallbackObject.detune = '';\n                } else if (detune < 0) {\n                    pitchCallbackObject.detune = 'flat';\n                } else {\n                    pitchCallbackObject.detune = 'sharp';\n                }\n            }\n            this._pitchCallback(pitchCallbackObject);\n        };\n    }\n}\n\nexport default sono.register('analyser', opts => new Analyser(opts));\n","import AbstractEffect from './AbstractEffect';\nimport sono from '../core/sono';\n\nclass Compressor extends AbstractEffect {\n    constructor({attack = 0.003, knee = 30, ratio = 12, release = 0.25, threshold = -24} = {}) {\n        super(sono.context.createDynamicsCompressor());\n\n        this.update({threshold, knee, ratio, attack, release});\n    }\n\n    update(options) {\n        // min decibels to start compressing at from -100 to 0\n        this.setSafeParamValue(this._node.threshold, options.threshold);\n        // decibel value to start curve to compressed value from 0 to 40\n        this.setSafeParamValue(this._node.knee, options.knee);\n        // amount of change per decibel from 1 to 20\n        this.setSafeParamValue(this._node.ratio, options.ratio);\n        // seconds to reduce gain by 10db from 0 to 1 - how quickly signal adapted when volume increased\n        this.setSafeParamValue(this._node.attack, options.attack);\n        // seconds to increase gain by 10db from 0 to 1 - how quickly signal adapted when volume redcuced\n        this.setSafeParamValue(this._node.release, options.release);\n    }\n\n    get threshold() {\n        return this._node.threshold.value;\n    }\n\n    set threshold(value) {\n        this.setSafeParamValue(this._node.threshold, value);\n    }\n\n    get knee() {\n        return this._node.knee.value;\n    }\n\n    set knee(value) {\n        this.setSafeParamValue(this._node.knee, value);\n    }\n\n    get ratio() {\n        return this._node.ratio.value;\n    }\n\n    set ratio(value) {\n        this.setSafeParamValue(this._node.ratio, value);\n    }\n\n    get attack() {\n        return this._node.attack.value;\n    }\n\n    set attack(value) {\n        this.setSafeParamValue(this._node.attack, value);\n    }\n\n    get release() {\n        return this._node.release.value;\n    }\n\n    set release(value) {\n        this.setSafeParamValue(this._node.release, value);\n    }\n}\n\nexport default sono.register('compressor', opts => new Compressor(opts));\n","import AbstractEffect from './AbstractEffect';\nimport sono from '../core/sono';\nimport file from '../core/utils/file';\nimport Loader from '../core/utils/loader';\nimport Sound from '../core/sound';\n\nclass Convolver extends AbstractEffect {\n    constructor({impulse} = {}) {\n        super();\n\n        this._node = sono.context.createConvolver();\n        this._in.connect(this._out);\n\n        this._loader = null;\n\n        this.update({impulse});\n    }\n\n    _load(src) {\n        if (sono.context.isFake) {\n            return;\n        }\n        if (this._loader) {\n            this._loader.destroy();\n        }\n        this._loader = new Loader(src);\n        this._loader.audioContext = sono.context;\n        this._loader.once('complete', impulse => this.update({impulse}));\n        this._loader.once('error', error => console.error(error));\n        this._loader.start();\n    }\n\n    update({impulse}) {\n        if (!impulse) {\n            return this;\n        }\n\n        if (file.isAudioBuffer(impulse)) {\n            this._node.buffer = impulse;\n            this._in.disconnect();\n            this._in.connect(this._node);\n            this._node.connect(this._out);\n            return this;\n        }\n\n        if (impulse instanceof Sound) {\n            if (impulse.data) {\n                this.update({impulse: impulse.data});\n            } else {\n                impulse.once('ready', sound => this.update({\n                    impulse: sound.data\n                }));\n            }\n            return this;\n        }\n\n        if (file.isURL(impulse) || file.isArrayBuffer(impulse)) {\n            this._load(impulse);\n        }\n\n        return this;\n    }\n\n    get impulse() {\n        return this._node.buffer;\n    }\n\n    set impulse(impulse) {\n        this.update({impulse});\n    }\n}\n\nexport default sono.register('convolver', opts => new Convolver(opts));\n","import AbstractEffect from './AbstractEffect';\nimport isSafeNumber from '../core/utils/isSafeNumber';\nimport sono from '../core/sono';\n\n// up-sample before applying curve for better resolution result 'none', '2x' or '4x'\n// oversample: '2x'\n// oversample: '4x'\n\nclass Distortion extends AbstractEffect {\n    constructor({level = 1, samples = 22050, oversample = 'none'} = {}) {\n        super(sono.context.createWaveShaper());\n\n        this._node.oversample = oversample || 'none';\n\n        this._samples = samples || 22050;\n\n        this._curve = new Float32Array(this._samples);\n\n        this._level;\n\n        this.update({level});\n    }\n\n    update({level}) {\n        if (level === this._level || !isSafeNumber(level)) {\n            return;\n        }\n\n        if (level <= 0) {\n            this._node.curve = null;\n            return;\n        }\n\n        const k = level * 100;\n        const deg = Math.PI / 180;\n        const y = 2 / this._samples;\n\n        let x;\n        for (let i = 0; i < this._samples; ++i) {\n            x = i * y - 1;\n            this._curve[i] = (3 + k) * x * 20 * deg / (Math.PI + k * Math.abs(x));\n        }\n\n        this._level = level;\n        this._node.curve = this._curve;\n    }\n\n    get level() {\n        return this._level;\n    }\n\n    set level(level) {\n        this.update({level});\n    }\n}\n\nexport default sono.register('distortion', opts => new Distortion(opts));\n","import AbstractEffect from './AbstractEffect';\nimport sono from '../core/sono';\n\nclass Echo extends AbstractEffect {\n    constructor({delay = 0.5, feedback = 0.5} = {}) {\n        super();\n\n        this._delay = this.context.createDelay();\n        this._feedback = this.context.createGain();\n\n        this._in.connect(this._delay);\n        this._in.connect(this._out);\n        this._delay.connect(this._feedback);\n        this._feedback.connect(this._delay);\n        this._feedback.connect(this._out);\n\n        this.delay = delay;\n        this.feedback = feedback;\n    }\n\n    update(options) {\n        this.delay = options.delay;\n        this.feedback = options.feedback;\n    }\n\n    get delay() {\n        return this._delay.delayTime.value;\n    }\n\n    set delay(value) {\n        this.setSafeParamValue(this._delay.delayTime, value);\n    }\n\n    get feedback() {\n        return this._feedback.gain.value;\n    }\n\n    set feedback(value) {\n        this.setSafeParamValue(this._feedback.gain, value);\n    }\n}\n\nexport default sono.register('echo', opts => new Echo(opts));\n","import AbstractEffect from './AbstractEffect';\nimport sono from '../core/sono';\nimport isSafeNumber from '../core/utils/isSafeNumber';\n\nfunction safeOption(...args) {\n    let value = null;\n    for (let i = 0; i < args.length; i++) {\n        if (isSafeNumber(args[i])) {\n            value = args[i];\n            break;\n        }\n    }\n    return value;\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode\n// For lowpass and highpass Q indicates how peaked the frequency is around the cutoff.\n// The greater the value is, the greater is the peak\nconst minFrequency = 40;\nconst maxFrequency = sono.context.sampleRate / 2;\n\nfunction getFrequency(value) {\n    // Logarithm (base 2) to compute how many octaves fall in the range.\n    const numberOfOctaves = Math.log(maxFrequency / minFrequency) / Math.LN2;\n    // Compute a multiplier from 0 to 1 based on an exponential scale.\n    const multiplier = Math.pow(2, numberOfOctaves * (value - 1.0));\n    // Get back to the frequency value between min and max.\n    return maxFrequency * multiplier;\n}\n\nclass Filter extends AbstractEffect {\n    constructor({type = 'lowpass', frequency = 1000, detune = 0, q = 0, gain = 1, peak = 0, boost = 0, width = 100, sharpness = 0} = {}) {\n        super(sono.context.createBiquadFilter());\n\n        this._node.type = type;\n\n        this.update({frequency, gain, detune, q, peak, boost, width, sharpness});\n    }\n\n    update(options) {\n        this.setSafeParamValue(this._node.frequency, options.frequency);\n        this.setSafeParamValue(this._node.gain, safeOption(options.boost, options.gain));\n        this.setSafeParamValue(this._node.detune, options.detune);\n\n        const q = safeOption(options.peak, options.width, options.sharpness, options.q);\n        this.setSafeParamValue(this._node.Q, q);\n    }\n\n    setByPercent({percent = 0.5}) {\n        this.update({\n            frequency: getFrequency(percent)\n        });\n    }\n\n    get type() {\n        return this._node.type;\n    }\n\n    get frequency() {\n        return this._node.frequency.value;\n    }\n\n    set frequency(value) {\n        this.setSafeParamValue(this._node.frequency, value);\n    }\n\n    get q() {\n        return this._node.Q.value;\n    }\n\n    set q(value) {\n        this.setSafeParamValue(this._node.Q, value);\n    }\n\n    get Q() {\n        return this.q;\n    }\n\n    set Q(value) {\n        this.q = value;\n    }\n\n    get peak() {\n        return this.q;\n    }\n\n    set peak(value) {\n        this.q = value;\n    }\n\n    get boost() {\n        return this.q;\n    }\n\n    set boost(value) {\n        this.q = value;\n    }\n\n    get width() {\n        return this.q;\n    }\n\n    set width(value) {\n        this.q = value;\n    }\n\n    get sharpness() {\n        return this.q;\n    }\n\n    set sharpness(value) {\n        this.q = value;\n    }\n\n    get gain() {\n        return this._node.gain.value;\n    }\n\n    set gain(value) {\n        this.setSafeParamValue(this._node.gain, value);\n    }\n\n    get detune() {\n        return this._node.detune.value;\n    }\n\n    set detune(value) {\n        this.setSafeParamValue(this._node.detune, value);\n    }\n}\n\nconst lowpass = sono.register('lowpass', ({frequency, peak, q} = {}) => {\n    return new Filter({type: 'lowpass', frequency, peak, q});\n});\n\nconst highpass = sono.register('highpass', ({frequency, peak, q} = {}) => {\n    return new Filter({type: 'highpass', frequency, peak, q});\n});\n\nconst lowshelf = sono.register('lowshelf', ({frequency, boost, gain} = {}) => {\n    return new Filter({type: 'lowshelf', frequency, boost, gain, q: 0});\n});\n\nconst highshelf = sono.register('highshelf', ({frequency, boost, gain} = {}) => {\n    return new Filter({type: 'highshelf', frequency, boost, gain, q: 0});\n});\n\nconst peaking = sono.register('peaking', ({frequency, width, boost, gain, q} = {}) => {\n    return new Filter({type: 'peaking', frequency, width, boost, gain, q});\n});\n\nconst bandpass = sono.register('bandpass', ({frequency, width, q} = {}) => {\n    return new Filter({type: 'bandpass', frequency, width, q});\n});\n\nconst notch = sono.register('notch', ({frequency, width, gain, q} = {}) => {\n    return new Filter({type: 'notch', frequency, width, gain, q});\n});\n\nconst allpass = sono.register('allpass', ({frequency, sharpness, q} = {}) => {\n    return new Filter({type: 'allpass', frequency, sharpness, q});\n});\n\nexport default sono.register('filter', opts => new Filter(opts));\n\nexport {\n    lowpass,\n    highpass,\n    bandpass,\n    lowshelf,\n    highshelf,\n    peaking,\n    notch,\n    allpass\n};\n","import AbstractEffect from './AbstractEffect';\nimport sono from '../core/sono';\n\nclass MonoFlanger extends AbstractEffect {\n    constructor({delay = 0.005, feedback = 0.5, frequency = 0.002, gain = 0.25} = {}) {\n        super();\n\n        this._delay = sono.context.createDelay();\n        this._feedback = sono.context.createGain();\n        this._lfo = sono.context.createOscillator();\n        this._gain = sono.context.createGain();\n        this._lfo.type = 'sine';\n\n        this._in.connect(this._out);\n        this._in.connect(this._delay);\n        this._delay.connect(this._out);\n        this._delay.connect(this._feedback);\n        this._feedback.connect(this._in);\n\n        this._lfo.connect(this._gain);\n        this._gain.connect(this._delay.delayTime);\n        this._lfo.start(0);\n\n        this.update({delay, feedback, frequency, gain});\n    }\n    update(options) {\n        this.delay = options.delay;\n        this.frequency = options.frequency;\n        this.gain = options.gain;\n        this.feedback = options.feedback;\n    }\n    get delay() {\n        return this._delay.delayTime.value;\n    }\n    set delay(value) {\n        this.setSafeParamValue(this._delay.delayTime, value);\n    }\n    get frequency() {\n        return this._lfo.frequency.value;\n    }\n    set frequency(value) {\n        this.setSafeParamValue(this._lfo.frequency, value);\n    }\n    get gain() {\n        return this._gain.gain.value;\n    }\n    set gain(value) {\n        this.setSafeParamValue(this._gain.gain, value);\n    }\n    get feedback() {\n        return this._feedback.gain.value;\n    }\n    set feedback(value) {\n        this.setSafeParamValue(this._feedback.gain, value);\n    }\n}\n\nsono.register('monoFlanger', opts => new MonoFlanger(opts));\n\nclass StereoFlanger extends AbstractEffect {\n    constructor({delay = 0.003, feedback = 0.5, frequency = 0.5, gain = 0.005} = {}) {\n        super();\n\n        this._splitter = sono.context.createChannelSplitter(2);\n        this._merger = sono.context.createChannelMerger(2);\n        this._feedbackL = sono.context.createGain();\n        this._feedbackR = sono.context.createGain();\n        this._lfo = sono.context.createOscillator();\n        this._lfoGainL = sono.context.createGain();\n        this._lfoGainR = sono.context.createGain();\n        this._delayL = sono.context.createDelay();\n        this._delayR = sono.context.createDelay();\n\n        this._lfo.type = 'sine';\n\n        this._in.connect(this._splitter);\n\n        this._splitter.connect(this._delayL, 0);\n        this._splitter.connect(this._delayR, 1);\n\n        this._delayL.connect(this._feedbackL);\n        this._delayR.connect(this._feedbackR);\n\n        this._feedbackL.connect(this._delayR);\n        this._feedbackR.connect(this._delayL);\n\n        this._delayL.connect(this._merger, 0, 0);\n        this._delayR.connect(this._merger, 0, 1);\n\n        this._merger.connect(this._out);\n        this._in.connect(this._out);\n\n        this._lfo.connect(this._lfoGainL);\n        this._lfo.connect(this._lfoGainR);\n        this._lfoGainL.connect(this._delayL.delayTime);\n        this._lfoGainR.connect(this._delayR.delayTime);\n        this._lfo.start(0);\n\n        this.update({delay, feedback, frequency, gain});\n    }\n\n    update(options) {\n        this.delay = options.delay;\n        this.frequency = options.frequency;\n        this.gain = options.gain;\n        this.feedback = options.feedback;\n    }\n\n    get delay() {\n        return this._delayL.delayTime.value;\n    }\n\n    set delay(value) {\n        this.setSafeParamValue(this._delayL.delayTime, value);\n        this._delayR.delayTime.value = this._delayL.delayTime.value;\n    }\n\n    get frequency() {\n        return this._lfo.frequency.value;\n    }\n\n    set frequency(value) {\n        this.setSafeParamValue(this._lfo.frequency, value);\n    }\n\n    get gain() {\n        return this._lfoGainL.gain.value;\n    }\n\n    set gain(value) {\n        this.setSafeParamValue(this._lfoGainL.gain, value);\n        this._lfoGainR.gain.value = 0 - this._lfoGainL.gain.value;\n    }\n\n    get feedback() {\n        return this._feedbackL.gain.value;\n    }\n\n    set feedback(value) {\n        this.setSafeParamValue(this._feedbackL.gain, value);\n        this._feedbackR.gain.value = this._feedbackL.gain.value;\n    }\n}\n\nsono.register('stereoFlanger', opts => new StereoFlanger(opts));\n\nexport default sono.register('flanger', (opts = {}) => {\n    return opts.stereo ? new StereoFlanger(opts) : new MonoFlanger(opts);\n});\n","export default function isDefined(value) {\n    return typeof value !== 'undefined';\n}\n","import AbstractEffect from './AbstractEffect';\nimport sono from '../core/sono';\nimport isSafeNumber from '../core/utils/isSafeNumber';\nimport isDefined from '../core/utils/isDefined';\n\nconst pannerDefaults = {\n    panningModel: 'HRTF',\n    distanceModel: 'linear',\n    refDistance: 1,\n    maxDistance: 1000,\n    rolloffFactor: 1,\n    coneInnerAngle: 360,\n    coneOuterAngle: 0,\n    coneOuterGain: 0\n};\n\nfunction safeNumber(x, y = 0) {\n    if (isSafeNumber(x)) {\n        return x;\n    }\n    return y;\n}\n\n// cross product of 2 vectors\nfunction cross(a, b) {\n    const ax = a.x,\n        ay = a.y,\n        az = a.z;\n    const bx = b.x,\n        by = b.y,\n        bz = b.z;\n    a.x = ay * bz - az * by;\n    a.y = az * bx - ax * bz;\n    a.z = ax * by - ay * bx;\n}\n\n// normalise to unit vector\nfunction normalize(vec3) {\n    if (vec3.x === 0 && vec3.y === 0 && vec3.z === 0) {\n        return vec3;\n    }\n    const length = Math.sqrt(vec3.x * vec3.x + vec3.y * vec3.y + vec3.z * vec3.z);\n    const invScalar = 1 / length;\n    vec3.x *= invScalar;\n    vec3.y *= invScalar;\n    vec3.z *= invScalar;\n    return vec3;\n}\n\nconst vecPool = {\n    pool: [],\n    get: function(x, y, z) {\n        const v = this.pool.length ? this.pool.pop() : {\n            x: 0,\n            y: 0,\n            z: 0\n        };\n        // check if a vector has been passed in\n        if (typeof x !== 'undefined' && isNaN(x) && 'x' in x && 'y' in x && 'z' in x) {\n            v.x = safeNumber(x.x);\n            v.y = safeNumber(x.y);\n            v.z = safeNumber(x.z);\n        } else {\n            v.x = safeNumber(x);\n            v.y = safeNumber(y);\n            v.z = safeNumber(z);\n        }\n        return v;\n    },\n    dispose: function(instance) {\n        this.pool.push(instance);\n    }\n};\n\nconst globalUp = vecPool.get(0, 1, 0);\nconst angle45 = Math.PI / 4;\nconst angle90 = Math.PI / 2;\n\nfunction setNodeOrientation(pannerNode, fw) {\n    // set the orientation of the source (where the audio is coming from)\n    // calculate up vec ( up = (forward cross (0, 1, 0)) cross forward )\n    const up = vecPool.get(fw.x, fw.y, fw.z);\n    cross(up, globalUp);\n    cross(up, fw);\n    normalize(up);\n    normalize(fw);\n    // set the audio context's listener position to match the camera position\n    pannerNode.setOrientation(fw.x, fw.y, fw.z, up.x, up.y, up.z);\n    // return the vecs to the pool\n    vecPool.dispose(fw);\n    vecPool.dispose(up);\n}\n\nfunction setNodePosition(nodeOrListener, vec) {\n    nodeOrListener.setPosition(vec.x, vec.y, vec.z);\n    vecPool.dispose(vec);\n}\n\nclass Panner extends AbstractEffect {\n    constructor({panningModel, distanceModel, refDistance, maxDistance, rolloffFactor, coneInnerAngle, coneOuterAngle, coneOuterGain} = {}) {\n        super(sono.context.createPanner());\n\n        // Default for stereo is 'HRTF' can also be 'equalpower'\n        this._node.panningModel = panningModel || pannerDefaults.panningModel;\n\n        // Distance model and attributes\n        // Can be 'linear' 'inverse' 'exponential'\n        this._node.distanceModel = distanceModel || pannerDefaults.distanceModel;\n        this._node.refDistance = isDefined(refDistance) ? refDistance : pannerDefaults.refDistance;\n        this._node.maxDistance = isDefined(maxDistance) ? maxDistance : pannerDefaults.maxDistance;\n        this._node.rolloffFactor = isDefined(rolloffFactor) ? rolloffFactor : pannerDefaults.rolloffFactor;\n        this._node.coneInnerAngle = isDefined(coneInnerAngle) ? coneInnerAngle : pannerDefaults.coneInnerAngle;\n        this._node.coneOuterAngle = isDefined(coneOuterAngle) ? coneOuterAngle : pannerDefaults.coneOuterAngle;\n        this._node.coneOuterGain = isDefined(coneOuterGain) ? coneOuterGain : pannerDefaults.coneOuterGain;\n        // set to defaults (needed in Firefox)\n        this._node.setPosition(0, 0, 0);\n        this._node.setOrientation(1, 0, 0);\n\n        this.set(0);\n    }\n\n    update({x, y, z}) {\n        const v = vecPool.get(x, y, z);\n\n        if (isSafeNumber(x) && !isSafeNumber(y) && !isSafeNumber(z)) {\n            // pan left to right with value from -1 to 1\n            x = v.x;\n\n            if (x > 1) {\n                x = 1;\n            }\n            if (x < -1) {\n                x = -1;\n            }\n\n            // creates a nice curve with z\n            x = x * angle45;\n            z = x + angle90;\n\n            if (z > angle90) {\n                z = Math.PI - z;\n            }\n\n            v.x = Math.sin(x);\n            v.y = 0;\n            v.z = Math.sin(z);\n        }\n        setNodePosition(this._node, v);\n    }\n\n    // set the position the audio is coming from)\n    setPosition(x, y, z) {\n        setNodePosition(this._node, vecPool.get(x, y, z));\n    }\n\n    // set the direction the audio is coming from)\n    setOrientation(x, y, z) {\n        setNodeOrientation(this._node, vecPool.get(x, y, z));\n    }\n\n    // set the position of who or what is hearing the audio (could be camera or some character)\n    setListenerPosition(x, y, z) {\n        setNodePosition(sono.context.listener, vecPool.get(x, y, z));\n    }\n\n    // set the position of who or what is hearing the audio (could be camera or some character)\n    setListenerOrientation(x, y, z) {\n        setNodeOrientation(sono.context.listener, vecPool.get(x, y, z));\n    }\n\n    get defaults() {\n        return pannerDefaults;\n    }\n\n    set defaults(value) {\n        Object.assign(pannerDefaults, value);\n    }\n\n    set(x, y, z) {\n        return this.update({x, y, z});\n    }\n}\n\nconst panner = sono.register('panner', opts => new Panner(opts));\n\nObject.defineProperties(panner, {\n    defaults: {\n        get: () => pannerDefaults,\n        set: (value) => Object.assign(pannerDefaults, value)\n    },\n    setListenerPosition: {\n        value: (x, y, z) => setNodePosition(sono.context.listener, vecPool.get(x, y, z))\n    },\n    setListenerOrientation: {\n        value: (x, y, z) => setNodeOrientation(sono.context.listener, vecPool.get(x, y, z))\n    }\n});\n\nexport default panner;\n","import AbstractEffect from './AbstractEffect';\nimport sono from '../core/sono';\n\nclass Phaser extends AbstractEffect {\n    constructor({stages = 8, feedback = 0.5, frequency = 0.5, gain = 300} = {}) {\n        super();\n\n        this._stages = stages || 8;\n\n        this._feedback = sono.context.createGain();\n        this._lfo = sono.context.createOscillator();\n        this._lfoGain = sono.context.createGain();\n        this._lfo.type = 'sine';\n\n        const filters = [];\n        for (let i = 0; i < this._stages; i++) {\n            const filter = sono.context.createBiquadFilter();\n            filter.type = 'allpass';\n            filter.frequency.value = 1000 * i;\n            //filter.Q.value = 10;\n            if (i > 0) {\n                filters[i - 1].connect(filter);\n            }\n            this._lfoGain.connect(filter.frequency);\n            filters.push(filter);\n        }\n\n        const first = filters[0];\n        const last = filters[filters.length - 1];\n\n        this._in.connect(first);\n        this._in.connect(this._out);\n        last.connect(this._out);\n        last.connect(this._feedback);\n        this._feedback.connect(first);\n        this._lfo.connect(this._lfoGain);\n        this._lfo.start(0);\n\n        this.update({frequency, gain, feedback});\n    }\n\n    update(options) {\n        this.frequency = options.frequency;\n        this.gain = options.gain;\n        this.feedback = options.feedback;\n    }\n\n    get stages() {\n        return this._stages;\n    }\n\n    get frequency() {\n        return this._lfo.frequency.value;\n    }\n\n    set frequency(value) {\n        this.setSafeParamValue(this._lfo.frequency, value);\n    }\n\n    get gain() {\n        return this._lfoGain.gain.value;\n    }\n\n    set gain(value) {\n        this.setSafeParamValue(this._lfoGain.gain, value);\n    }\n\n    get feedback() {\n        return this._feedback.gain.value;\n    }\n\n    set feedback(value) {\n        this.setSafeParamValue(this._feedback.gain, value);\n    }\n}\n\nexport default sono.register('phaser', opts => new Phaser(opts));\n","import AbstractEffect from './AbstractEffect';\nimport sono from '../core/sono';\nimport isSafeNumber from '../core/utils/isSafeNumber';\nimport isDefined from '../core/utils/isDefined';\n\nfunction createImpulseResponse({time, decay, reverse, buffer}) {\n    const rate = sono.context.sampleRate;\n    const length = Math.floor(rate * time);\n\n    let impulseResponse;\n\n    if (buffer && buffer.length === length) {\n        impulseResponse = buffer;\n    } else {\n        impulseResponse = sono.context.createBuffer(2, length, rate);\n    }\n\n    const left = impulseResponse.getChannelData(0);\n    const right = impulseResponse.getChannelData(1);\n\n    let n, e;\n    for (let i = 0; i < length; i++) {\n        n = reverse ? length - i : i;\n        e = Math.pow(1 - n / length, decay);\n        left[i] = (Math.random() * 2 - 1) * e;\n        right[i] = (Math.random() * 2 - 1) * e;\n    }\n\n    return impulseResponse;\n}\n\nclass Reverb extends AbstractEffect {\n    constructor({time = 1, decay = 5, reverse = false} = {}) {\n        super();\n\n        this._length = 0;\n        this._impulseResponse = null;\n\n        this._convolver = this.context.createConvolver();\n\n        this._in.connect(this._convolver);\n        this._in.connect(this._out);\n        this._convolver.connect(this._out);\n\n        this._opts = {};\n\n        this.update({time, decay, reverse});\n    }\n\n    update({time, decay, reverse}) {\n        let changed = false;\n        if (time !== this._opts.time && isSafeNumber(time)) {\n            this._opts.time = time;\n            changed = true;\n        }\n        if (decay !== this._opts.decay && isSafeNumber(decay)) {\n            this._opts.decay = decay;\n            changed = true;\n        }\n        if (isDefined(reverse) && reverse !== this._reverse) {\n            this._opts.reverse = reverse;\n            changed = true;\n        }\n        if (!changed) {\n            return;\n        }\n\n        this._opts.buffer = time <= 0 ? null : createImpulseResponse(this._opts);\n        this._convolver.buffer = this._opts.buffer;\n    }\n\n    get time() {\n        return this._opts.time;\n    }\n\n    set time(value) {\n        this.update({time: value});\n    }\n\n    get decay() {\n        return this._opts.decay;\n    }\n\n    set decay(value) {\n        this.update({decay: value});\n    }\n\n    get reverse() {\n        return this._opts.reverse;\n    }\n\n    set reverse(value) {\n        this.update({reverse: value});\n    }\n}\n\nexport default sono.register('reverb', opts => new Reverb(opts));\n","import sono from '../core/sono';\n\nfunction microphone(connected, denied, error) {\n    navigator.getUserMedia =\n        navigator.mediaDevices.getUserMedia ||\n        navigator.getUserMedia ||\n        navigator.webkitGetUserMedia ||\n        navigator.mozGetUserMedia ||\n        navigator.msGetUserMedia;\n\n    error = error || function(err) {\n        console.error(err);\n    };\n\n    const isSupported = !!navigator.getUserMedia;\n    const api = {};\n    let stream = null;\n\n    function onConnect(micStream) {\n        stream = micStream;\n        connected(stream);\n    }\n\n    function onError(e) {\n        if (denied && e.name === 'PermissionDeniedError' || e === 'PERMISSION_DENIED') {\n            denied();\n        } else {\n            error(e.message || e);\n        }\n    }\n\n    function connect() {\n        if (!isSupported) {\n            return api;\n        }\n\n        if (navigator.mediaDevices.getUserMedia) {\n            navigator.mediaDevices.getUserMedia({\n                audio: true\n            })\n            .then(onConnect)\n            .catch(onError);\n        } else {\n            navigator.getUserMedia({\n                audio: true\n            }, onConnect, onError);\n        }\n        return api;\n    }\n\n    function disconnect() {\n        if (stream.stop) {\n            stream.stop();\n        } else {\n            stream.getAudioTracks()[0].stop();\n        }\n        stream = null;\n        return api;\n    }\n\n    return Object.assign(api, {\n        connect,\n        disconnect,\n        isSupported,\n        get stream() {\n            return stream;\n        }\n    });\n}\n\nexport default sono.register('microphone', microphone, sono.utils);\n","import sono from '../core/sono';\n\nfunction recorder(passThrough = false) {\n    const bufferLength = 4096;\n    const buffersL = [];\n    const buffersR = [];\n    let startedAt = 0;\n    let stoppedAt = 0;\n    let script = null;\n    let isRecording = false;\n    let soundOb = null;\n\n    const input = sono.context.createGain();\n    const output = sono.context.createGain();\n    output.gain.value = passThrough ? 1 : 0;\n\n    const node = {\n        _in: input,\n        _out: output,\n        connect(n) {\n            output.connect(n._in || n);\n        },\n        disconnect(...args) {\n            output.disconnect(args);\n        }\n    };\n\n    function mergeBuffers(buffers, length) {\n        const buffer = new Float32Array(length);\n        let offset = 0;\n        for (let i = 0; i < buffers.length; i++) {\n            buffer.set(buffers[i], offset);\n            offset += buffers[i].length;\n        }\n        return buffer;\n    }\n\n    function getBuffer() {\n        if (!buffersL.length) {\n            return sono.context.createBuffer(2, bufferLength, sono.context.sampleRate);\n        }\n        const recordingLength = buffersL.length * bufferLength;\n        const buffer = sono.context.createBuffer(2, recordingLength, sono.context.sampleRate);\n        buffer.getChannelData(0)\n            .set(mergeBuffers(buffersL, recordingLength));\n        buffer.getChannelData(1)\n            .set(mergeBuffers(buffersR, recordingLength));\n        return buffer;\n    }\n\n    function destroyScriptProcessor() {\n        if (script) {\n            script.onaudioprocess = null;\n            input.disconnect();\n            script.disconnect();\n        }\n    }\n\n    function createScriptProcessor() {\n        destroyScriptProcessor();\n\n        script = sono.context.createScriptProcessor(bufferLength, 2, 2);\n        input.connect(script);\n        script.connect(output);\n        script.connect(sono.context.destination);\n        // output.connect(sono.context.destination);\n\n\n        script.onaudioprocess = function(event) {\n            const inputL = event.inputBuffer.getChannelData(0);\n            const inputR = event.inputBuffer.getChannelData(1);\n\n            if (passThrough) {\n                const outputL = event.outputBuffer.getChannelData(0);\n                const outputR = event.outputBuffer.getChannelData(1);\n                outputL.set(inputL);\n                outputR.set(inputR);\n            }\n\n            if (isRecording) {\n                buffersL.push(new Float32Array(inputL));\n                buffersR.push(new Float32Array(inputR));\n            }\n        };\n    }\n\n    return {\n        start(sound) {\n            if (!sound) {\n                return;\n            }\n            createScriptProcessor();\n            buffersL.length = 0;\n            buffersR.length = 0;\n            startedAt = sono.context.currentTime;\n            stoppedAt = 0;\n            soundOb = sound;\n            sound.effects.add(node);\n            isRecording = true;\n        },\n        stop() {\n            soundOb.effects.remove(node);\n            soundOb = null;\n            stoppedAt = sono.context.currentTime;\n            isRecording = false;\n            destroyScriptProcessor();\n            return getBuffer();\n        },\n        getDuration() {\n            if (!isRecording) {\n                return stoppedAt - startedAt;\n            }\n            return sono.context.currentTime - startedAt;\n        },\n        get isRecording() {\n            return isRecording;\n        }\n    };\n}\n\nexport default sono.register('recorder', recorder, sono.utils);\n","import sono from '../core/sono';\n\nfunction waveform() {\n    let buffer,\n        wave;\n\n    return function(audioBuffer, length) {\n        if (!window.Float32Array || !window.AudioBuffer) {\n            return [];\n        }\n\n        const sameBuffer = buffer === audioBuffer;\n        const sameLength = wave && wave.length === length;\n        if (sameBuffer && sameLength) {\n            return wave;\n        }\n\n        if (!wave || wave.length !== length) {\n            wave = new Float32Array(length);\n        }\n\n        if (!audioBuffer) {\n            return wave;\n        }\n\n        // cache for repeated calls\n        buffer = audioBuffer;\n\n        const chunk = Math.floor(buffer.length / length),\n            resolution = 5, // 10\n            incr = Math.max(Math.floor(chunk / resolution), 1);\n        let greatest = 0;\n\n        for (let i = 0; i < buffer.numberOfChannels; i++) {\n            // check each channel\n            const channel = buffer.getChannelData(i);\n            for (let j = 0; j < length; j++) {\n                // get highest value within the chunk\n                for (let k = j * chunk, l = k + chunk; k < l; k += incr) {\n                    // select highest value from channels\n                    let a = channel[k];\n                    if (a < 0) {\n                        a = -a;\n                    }\n                    if (a > wave[j]) {\n                        wave[j] = a;\n                    }\n                    // update highest overall for scaling\n                    if (a > greatest) {\n                        greatest = a;\n                    }\n                }\n            }\n        }\n        // scale up\n        const scale = 1 / greatest;\n        for (let i = 0; i < wave.length; i++) {\n            wave[i] *= scale;\n        }\n\n        return wave;\n    };\n}\n\nexport default sono.register('waveform', waveform, sono.utils);\n","import sono from '../core/sono';\n\nconst halfPI = Math.PI / 2;\nconst twoPI = Math.PI * 2;\n\nfunction waveformer(config) {\n\n    const style = config.style || 'fill', // 'fill' or 'line'\n        shape = config.shape || 'linear', // 'circular' or 'linear'\n        color = config.color || 0,\n        bgColor = config.bgColor,\n        lineWidth = config.lineWidth || 1,\n        percent = config.percent || 1,\n        originX = config.x || 0,\n        originY = config.y || 0,\n        transform = config.transform;\n\n    let canvas = config.canvas,\n        width = config.width || (canvas && canvas.width),\n        height = config.height || (canvas && canvas.height);\n\n    let ctx = null, currentColor, i, x, y,\n        radius, innerRadius, centerX, centerY;\n\n    if (!canvas && !config.context) {\n        canvas = document.createElement('canvas');\n        width = width || canvas.width;\n        height = height || canvas.height;\n        canvas.width = width;\n        canvas.height = height;\n    }\n\n    if (shape === 'circular') {\n        radius = config.radius || Math.min(height / 2, width / 2);\n        innerRadius = config.innerRadius || radius / 2;\n        centerX = originX + width / 2;\n        centerY = originY + height / 2;\n    }\n\n    ctx = config.context || canvas.getContext('2d');\n\n    function clear() {\n        if (bgColor) {\n            ctx.fillStyle = bgColor;\n            ctx.fillRect(originX, originY, width, height);\n        } else {\n            ctx.clearRect(originX, originY, width, height);\n        }\n\n        ctx.lineWidth = lineWidth;\n\n        currentColor = null;\n\n        if (typeof color !== 'function') {\n            ctx.strokeStyle = color;\n            ctx.beginPath();\n        }\n    }\n\n    function updateColor(position, length, value) {\n        if (typeof color === 'function') {\n            const newColor = color(position, length, value);\n            if (newColor !== currentColor) {\n                currentColor = newColor;\n                ctx.stroke();\n                ctx.strokeStyle = currentColor;\n                ctx.beginPath();\n            }\n        }\n    }\n\n    function getValue(value, position, length) {\n        if (typeof transform === 'function') {\n            return transform(value, position, length);\n        }\n        return value;\n    }\n\n    function getWaveform(value, length) {\n        if (value && typeof value.waveform === 'function') {\n            return value.waveform(length);\n        }\n        if (value) {\n            return value;\n        }\n        if (config.waveform) {\n            return config.waveform;\n        }\n        if (config.sound) {\n            return config.sound.waveform(length);\n        }\n        return null;\n    }\n\n    function update(wave) {\n\n        clear();\n\n        if (shape === 'circular') {\n            const waveform = getWaveform(wave, 360);\n            const length = Math.floor(waveform.length * percent);\n\n            const step = twoPI / length;\n            let angle, magnitude, sine, cosine;\n\n            for (i = 0; i < length; i++) {\n                const value = getValue(waveform[i], i, length);\n                updateColor(i, length, value);\n\n                angle = i * step - halfPI;\n                cosine = Math.cos(angle);\n                sine = Math.sin(angle);\n\n                if (style === 'fill') {\n                    x = centerX + innerRadius * cosine;\n                    y = centerY + innerRadius * sine;\n                    ctx.moveTo(x, y);\n                }\n\n                magnitude = innerRadius + (radius - innerRadius) * value;\n                x = centerX + magnitude * cosine;\n                y = centerY + magnitude * sine;\n\n                if (style === 'line' && i === 0) {\n                    ctx.moveTo(x, y);\n                }\n\n                ctx.lineTo(x, y);\n            }\n\n            if (style === 'line') {\n                ctx.closePath();\n            }\n        } else {\n\n            const waveform = getWaveform(wave, width);\n            let length = Math.min(waveform.length, width - lineWidth / 2);\n            length = Math.floor(length * percent);\n\n            for (i = 0; i < length; i++) {\n                const value = getValue(waveform[i], i, length);\n                updateColor(i, length, value);\n\n                if (style === 'line' && i > 0) {\n                    ctx.lineTo(x, y);\n                }\n\n                x = originX + i;\n                y = originY + height - Math.round(height * value);\n                y = Math.floor(Math.min(y, originY + height - lineWidth / 2));\n\n                if (style === 'fill') {\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x, originY + height);\n                } else {\n                    ctx.lineTo(x, y);\n                }\n            }\n        }\n        ctx.stroke();\n    }\n\n    update.canvas = canvas;\n\n    if (config.waveform || config.sound) {\n        update();\n    }\n\n    return update;\n}\n\nexport default sono.register('waveformer', waveformer, sono.utils);\n"],"names":["isObject","require$$0","document","require$$1","require$$2","anObject","toPrimitive","IE8_DOM_DEFINE","dP","createDesc","has","hide","global","aFunction","core","ctx","redefine","cof","IObject","defined","toInteger","min","toIObject","toLength","toIndex","uid","$keys","enumBugKeys","toObject","gOPS","pIE","getKeys","$export","dummy","context","buffer","createBuffer","sampleRate","source","createBufferSource","connect","destination","start","stop","disconnect","FakeContext","startTime","Date","now","fn","param","fakeNode","window","Uint8Array","Float32Array","Array","currentTime","navigator","test","userAgent","desiredSampleRate","Ctx","AudioContext","webkitAudioContext","iOS","close","state","resume","setTimeout","Effects","_destination","_source","_nodes","node","add","remove","toggle","force","removeAll","keys","prototype","forEach","hasOwnProperty","key","bind","setSource","_updateConnections","setDestination","_connectToDestination","indexOf","isArray","n","i","length","push","l","splice","hasNode","arguments","pop","destroy","_connect","a","b","_in","lastNode","prev","extensions","canPlay","tests","el","createElement","canPlayType","type","ext","getFileExtension","url","slice","match","toLowerCase","split","lastIndexOf","getSupportedFile","fileNames","name","some","isAudioBuffer","data","AudioBuffer","isArrayBuffer","ArrayBuffer","isMediaElement","HTMLMediaElement","isMediaStream","getAudioTracks","MediaStreamTrack","isOscillatorType","isURL","containsURL","config","src","getSrc","Group","sounds","effects","gain","createGain","preMuteVolume","group","find","soundOrId","callback","found","sound","id","once","play","delay","offset","pause","playing","paused","seek","percent","mute","volume","unMute","setVolume","value","fade","duration","time","cancelScheduledValues","setValueAtTime","linearRampToValueAtTime","load","unload","fx","isNaN","Math","max","groupVolume","EventEmitter","events","Emitter","off","listener","removeListener","removeAllListeners","Loader","deferLoad","ERROR_STATE","emitter","progress","audioContext","isTouchLocked","request","timeout","removeListeners","removeEventListener","readyHandler","errorHandler","progressHandler","loadHandler","dispatchComplete","emit","event","lengthComputable","loaded","total","clearTimeout","message","error","code","status","statusText","decodeArrayBuffer","arraybuffer","decodeAudioData","response","cancel","readyState","abort","loadArrayBuffer","XMLHttpRequest","open","responseType","addEventListener","send","loadAudioElement","tagName","preload","newUrl","api","on","defineProperties","Object","freeze","queue","numLoaded","numTotal","currentLoader","completeHandler","e","next","loader","log","title","VERSION","info","isSupported","hasWebAudio","file","args","apply","console","call","pageVisibility","onHidden","onShown","hidden","visibilityChange","mozHidden","msHidden","webkitHidden","onChange","BufferSource","endedCallback","ended","loop","cuedAt","playbackRate","sourceNode","startedAt","createSourceNode","onended","elapsed","endedHandler","offlineCtx","getOfflineContext","numOfChannels","OfflineCtx","OfflineAudioContext","webkitOfflineAudioContext","cloneBuffer","isFake","numChannels","numberOfChannels","cloned","getChannelData","set","reverseBuffer","reverse","ramp","fromValue","toValue","linear","exponentialRampToValueAtTime","getFrequency","minValue","maxValue","numberOfOctaves","LN2","multiplier","pow","timeCode","seconds","delim","m","floor","s","mn","sc","isSafeNumber","isFinite","AudioSource","Type","onEnded","create","pool","clones","numCreated","singlePlay","disposeSource","onSourceEnded","index","getSource","cloneNode","every","MediaSource","delayTimeout","fadeTimeout","createMediaElementSource","toVolume","step","abs","MicrophoneSource","stream","createMediaStreamSource","mozGetUserMedia","mozHack","OscillatorSource","frequency","createOscillator","Sound","_context","_effects","_gain","_config","_data","_isTouchLocked","_loader","_loop","_offset","_playbackRate","_playWhenReady","_wave","_userData","_onEnded","_onLoad","_onLoadError","prepare","newConfig","skipLoad","configSrc","assign","asMediaElement","reload","waveform","utils","_createSource","Fn","Error","err","listenerCount","__source","SoundGroup","sort","rmeove","touchLock","locked","unlock","then","unlocked","body","bus","get","soundGroup","loaderGroup","errorMessage","onError","onProgress","onComplete","sono","destroyAll","pauseAll","resumeAll","stopAll","pageHiddenPaused","register","attachTo","__test","AbstractEffect","_out","_node","setSafeParamValue","warn","update","noteFromPitch","noteNum","LOG2E","round","frequencyFromNoteNumber","note","centsOffFromPitch","Analyser","fftSize","minDecibels","maxDecibels","smoothing","useFloats","createAnalyser","_useFloats","_waveform","_frequencies","smoothingTimeConstant","getWaveform","getFloatTimeDomainData","_createArray","getByteTimeDomainData","getFrequencies","getFloatFrequencyData","frequencyBinCount","getByteFrequencyData","getAmplitude","_amplitudeWorker","_createAmplitudeAnalyser","_amplitudeCallback","f","postMessage","byteLength","getPitch","_pitchWorker","_createPitchAnalyser","_pitchCallback","amplitudeBlob","Blob","amplitudeBlobURL","URL","createObjectURL","Worker","onmessage","pitchBlob","pitchBlobURL","noteStrings","pitchCallbackObject","hz","detune","hertz","noteIndex","detuneCents","opts","Compressor","attack","knee","ratio","release","threshold","createDynamicsCompressor","options","Convolver","impulse","createConvolver","_load","Distortion","level","samples","oversample","createWaveShaper","_samples","_curve","_level","curve","k","deg","PI","y","x","Echo","feedback","_delay","createDelay","_feedback","delayTime","safeOption","minFrequency","maxFrequency","Filter","q","peak","boost","width","sharpness","createBiquadFilter","Q","setByPercent","lowpass","highpass","lowshelf","highshelf","peaking","bandpass","notch","allpass","MonoFlanger","_lfo","StereoFlanger","_splitter","createChannelSplitter","_merger","createChannelMerger","_feedbackL","_feedbackR","_lfoGainL","_lfoGainR","_delayL","_delayR","stereo","isDefined","pannerDefaults","safeNumber","cross","ax","ay","az","z","bx","by","bz","normalize","vec3","sqrt","invScalar","vecPool","v","instance","globalUp","angle45","angle90","setNodeOrientation","pannerNode","fw","up","setOrientation","dispose","setNodePosition","nodeOrListener","vec","setPosition","Panner","panningModel","distanceModel","refDistance","maxDistance","rolloffFactor","coneInnerAngle","coneOuterAngle","coneOuterGain","createPanner","sin","setListenerPosition","setListenerOrientation","panner","Phaser","stages","_stages","_lfoGain","filters","filter","first","last","createImpulseResponse","decay","rate","impulseResponse","left","right","random","Reverb","_length","_impulseResponse","_convolver","_opts","changed","_reverse","microphone","connected","denied","getUserMedia","mediaDevices","webkitGetUserMedia","msGetUserMedia","onConnect","micStream","catch","recorder","passThrough","bufferLength","buffersL","buffersR","stoppedAt","script","isRecording","soundOb","input","output","mergeBuffers","buffers","getBuffer","recordingLength","destroyScriptProcessor","onaudioprocess","createScriptProcessor","inputL","inputBuffer","inputR","outputL","outputBuffer","outputR","wave","audioBuffer","sameBuffer","sameLength","chunk","resolution","greatest","channel","j","incr","scale","halfPI","twoPI","waveformer","style","shape","color","bgColor","lineWidth","originX","originY","transform","canvas","height","currentColor","radius","innerRadius","centerX","centerY","getContext","clear","fillStyle","fillRect","clearRect","strokeStyle","beginPath","updateColor","position","newColor","stroke","getValue","angle","magnitude","sine","cosine","cos","moveTo","lineTo","closePath"],"mappings":"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"}